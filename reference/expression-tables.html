<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>. – expression-tables</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">.</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../backends/index.html" rel="" target="">
 <span class="menu-text">Backends</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../reference/index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Reference</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../reference/top_level.html">Expressions</a></li><li class="breadcrumb-item"><a href="../reference/expression-tables.html">Table Expressions</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/top_level.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Top-level APIs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-tables.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Table Expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-generic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generic Expression APIs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-numeric.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numeric and Boolean Expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">String Expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/temporal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">temporal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Complex Type Expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial Expressions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Other</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/selectors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">selectors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expr.schema.Schema.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">expr.schema.Schema</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/config.Options.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">config.Options</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/config.Repr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">config.Repr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/config.SQL.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">config.SQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/config.ContextAdjustment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">config.ContextAdjustment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expr.datatypes.core.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">expr.datatypes.core</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#table-expressions" id="toc-table-expressions" class="nav-link active" data-scroll-target="#table-expressions">Table Expressions</a></li>
  <li><a href="#ibis.expr.types.relations.Table" id="toc-ibis.expr.types.relations.Table" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table">Table</a>
  <ul class="collapse">
  <li><a href="#attributes" id="toc-attributes" class="nav-link" data-scroll-target="#attributes">Attributes</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#ibis.expr.types.relations.Table.aggregate" id="toc-ibis.expr.types.relations.Table.aggregate" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.aggregate">aggregate</a></li>
  <li><a href="#ibis.expr.types.relations.Table.alias" id="toc-ibis.expr.types.relations.Table.alias" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.alias">alias</a></li>
  <li><a href="#ibis.expr.types.relations.Table.as_table" id="toc-ibis.expr.types.relations.Table.as_table" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.as_table">as_table</a></li>
  <li><a href="#ibis.expr.types.relations.Table.asof_join" id="toc-ibis.expr.types.relations.Table.asof_join" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.asof_join">asof_join</a></li>
  <li><a href="#ibis.expr.types.relations.Table.cache" id="toc-ibis.expr.types.relations.Table.cache" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.cache">cache</a></li>
  <li><a href="#ibis.expr.types.relations.Table.cast" id="toc-ibis.expr.types.relations.Table.cast" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.cast">cast</a></li>
  <li><a href="#ibis.expr.types.relations.Table.count" id="toc-ibis.expr.types.relations.Table.count" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.count">count</a></li>
  <li><a href="#ibis.expr.types.relations.Table.cross_join" id="toc-ibis.expr.types.relations.Table.cross_join" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.cross_join">cross_join</a></li>
  <li><a href="#ibis.expr.types.relations.Table.difference" id="toc-ibis.expr.types.relations.Table.difference" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.difference">difference</a></li>
  <li><a href="#ibis.expr.types.relations.Table.distinct" id="toc-ibis.expr.types.relations.Table.distinct" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.distinct">distinct</a></li>
  <li><a href="#ibis.expr.types.relations.Table.drop" id="toc-ibis.expr.types.relations.Table.drop" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.drop">drop</a></li>
  <li><a href="#ibis.expr.types.relations.Table.dropna" id="toc-ibis.expr.types.relations.Table.dropna" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.dropna">dropna</a></li>
  <li><a href="#ibis.expr.types.relations.Table.fillna" id="toc-ibis.expr.types.relations.Table.fillna" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.fillna">fillna</a></li>
  <li><a href="#ibis.expr.types.relations.Table.filter" id="toc-ibis.expr.types.relations.Table.filter" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.filter">filter</a></li>
  <li><a href="#ibis.expr.types.relations.Table.group_by" id="toc-ibis.expr.types.relations.Table.group_by" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.group_by">group_by</a></li>
  <li><a href="#ibis.expr.types.relations.Table.head" id="toc-ibis.expr.types.relations.Table.head" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.head">head</a></li>
  <li><a href="#ibis.expr.types.relations.Table.info" id="toc-ibis.expr.types.relations.Table.info" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.info">info</a></li>
  <li><a href="#ibis.expr.types.relations.Table.intersect" id="toc-ibis.expr.types.relations.Table.intersect" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.intersect">intersect</a></li>
  <li><a href="#ibis.expr.types.relations.Table.join" id="toc-ibis.expr.types.relations.Table.join" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.join">join</a></li>
  <li><a href="#ibis.expr.types.relations.Table.limit" id="toc-ibis.expr.types.relations.Table.limit" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.limit">limit</a></li>
  <li><a href="#ibis.expr.types.relations.Table.mutate" id="toc-ibis.expr.types.relations.Table.mutate" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.mutate">mutate</a></li>
  <li><a href="#ibis.expr.types.relations.Table.order_by" id="toc-ibis.expr.types.relations.Table.order_by" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.order_by">order_by</a></li>
  <li><a href="#ibis.expr.types.relations.Table.pivot_longer" id="toc-ibis.expr.types.relations.Table.pivot_longer" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.pivot_longer">pivot_longer</a></li>
  <li><a href="#ibis.expr.types.relations.Table.pivot_wider" id="toc-ibis.expr.types.relations.Table.pivot_wider" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.pivot_wider">pivot_wider</a></li>
  <li><a href="#ibis.expr.types.relations.Table.relabel" id="toc-ibis.expr.types.relations.Table.relabel" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.relabel">relabel</a></li>
  <li><a href="#ibis.expr.types.relations.Table.rowid" id="toc-ibis.expr.types.relations.Table.rowid" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.rowid">rowid</a></li>
  <li><a href="#ibis.expr.types.relations.Table.schema" id="toc-ibis.expr.types.relations.Table.schema" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.schema">schema</a></li>
  <li><a href="#ibis.expr.types.relations.Table.select" id="toc-ibis.expr.types.relations.Table.select" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.select">select</a></li>
  <li><a href="#ibis.expr.types.relations.Table.sql" id="toc-ibis.expr.types.relations.Table.sql" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.sql">sql</a></li>
  <li><a href="#ibis.expr.types.relations.Table.to_array" id="toc-ibis.expr.types.relations.Table.to_array" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.to_array">to_array</a></li>
  <li><a href="#ibis.expr.types.relations.Table.to_pandas" id="toc-ibis.expr.types.relations.Table.to_pandas" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.to_pandas">to_pandas</a></li>
  <li><a href="#ibis.expr.types.relations.Table.try_cast" id="toc-ibis.expr.types.relations.Table.try_cast" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.try_cast">try_cast</a></li>
  <li><a href="#ibis.expr.types.relations.Table.union" id="toc-ibis.expr.types.relations.Table.union" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.union">union</a></li>
  <li><a href="#ibis.expr.types.relations.Table.unpack" id="toc-ibis.expr.types.relations.Table.unpack" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.unpack">unpack</a></li>
  <li><a href="#ibis.expr.types.relations.Table.view" id="toc-ibis.expr.types.relations.Table.view" class="nav-link" data-scroll-target="#ibis.expr.types.relations.Table.view">view</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable" id="toc-ibis.expr.types.relations.GroupedTable" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable">GroupedTable</a>
  <ul class="collapse">
  <li><a href="#methods-1" id="toc-methods-1" class="nav-link" data-scroll-target="#methods-1">Methods</a>
  <ul class="collapse">
  <li><a href="#ibis.expr.types.relations.GroupedTable.aggregate" id="toc-ibis.expr.types.relations.GroupedTable.aggregate" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.aggregate">aggregate</a></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable.count" id="toc-ibis.expr.types.relations.GroupedTable.count" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.count">count</a></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable.having" id="toc-ibis.expr.types.relations.GroupedTable.having" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.having">having</a></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable.mutate" id="toc-ibis.expr.types.relations.GroupedTable.mutate" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.mutate">mutate</a></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable.order_by" id="toc-ibis.expr.types.relations.GroupedTable.order_by" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.order_by">order_by</a></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable.over" id="toc-ibis.expr.types.relations.GroupedTable.over" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.over">over</a></li>
  <li><a href="#ibis.expr.types.relations.GroupedTable.select" id="toc-ibis.expr.types.relations.GroupedTable.select" class="nav-link" data-scroll-target="#ibis.expr.types.relations.GroupedTable.select">select</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="table-expressions" class="level1">
<h1>Table Expressions</h1>
<p>Table expressions form the basis for most Ibis expressions.</p>
</section>
<section id="ibis.expr.types.relations.Table" class="level1">
<h1>Table</h1>
<p><code>expr.types.relations.Table()</code></p>
<section id="attributes" class="level2">
<h2 class="anchored" data-anchor-id="attributes">Attributes</h2>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.columns">columns</a></td>
<td>The list of columns in this table.</td>
</tr>
</tbody>
</table>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.aggregate">aggregate</a></td>
<td>Aggregate a table with a given set of reductions grouping by <code>by</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.alias">alias</a></td>
<td>Create a table expression with a specific name <code>alias</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.as_table">as_table</a></td>
<td>Promote the expression to a table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.asof_join">asof_join</a></td>
<td>Perform an “as-of” join between <code>left</code> and <code>right</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.cache">cache</a></td>
<td>Cache the provided expression.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.cast">cast</a></td>
<td>Cast the columns of a table.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.count">count</a></td>
<td>Compute the number of rows in the table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.cross_join">cross_join</a></td>
<td>Compute the cross join of a sequence of tables.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.difference">difference</a></td>
<td>Compute the set difference of multiple table expressions.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.distinct">distinct</a></td>
<td>Return a Table with duplicate rows removed.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.drop">drop</a></td>
<td>Remove fields from a table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.dropna">dropna</a></td>
<td>Remove rows with null values from the table.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.fillna">fillna</a></td>
<td>Fill null values in a table expression.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.filter">filter</a></td>
<td>Select rows from <code>table</code> based on <code>predicates</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.group_by">group_by</a></td>
<td>Create a grouped table expression.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.head">head</a></td>
<td>Select the first <code>n</code> rows of a table.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.info">info</a></td>
<td>Return summary information about a table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.intersect">intersect</a></td>
<td>Compute the set intersection of multiple table expressions.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.join">join</a></td>
<td>Perform a join between two tables.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.limit">limit</a></td>
<td>Select <code>n</code> rows from <code>self</code> starting at <code>offset</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.mutate">mutate</a></td>
<td>Add columns to a table expression.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.order_by">order_by</a></td>
<td>Sort a table by one or more expressions.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.pivot_longer">pivot_longer</a></td>
<td>Transform a table from wider to longer.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.pivot_wider">pivot_wider</a></td>
<td>Pivot a table to a wider format.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.relabel">relabel</a></td>
<td>Rename columns in the table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.rowid">rowid</a></td>
<td>A unique integer per row.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.schema">schema</a></td>
<td>Return the schema for this table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.select">select</a></td>
<td>Compute a new table expression using <code>exprs</code> and <code>named_exprs</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.sql">sql</a></td>
<td>Run a SQL query against a table expression.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.to_array">to_array</a></td>
<td>View a single column table as an array.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.to_pandas">to_pandas</a></td>
<td>Convert a table expression to a pandas DataFrame.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.try_cast">try_cast</a></td>
<td>Cast the columns of a table.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.union">union</a></td>
<td>Compute the set union of multiple table expressions.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.Table.unpack">unpack</a></td>
<td>Project the struct fields of each of <code>columns</code> into <code>self</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.Table.view">view</a></td>
<td>Create a new table expression distinct from the current one.</td>
</tr>
</tbody>
</table>
<section id="ibis.expr.types.relations.Table.aggregate" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.aggregate">aggregate</h3>
<p><code>expr.types.relations.Table.aggregate(self, metrics=None, by=None, having=None, **kwargs)</code></p>
<p>Aggregate a table with a given set of reductions grouping by <code>by</code>.</p>
<section id="parameters" class="level4">
<h4 class="anchored" data-anchor-id="parameters">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 15%">
<col style="width: 77%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>metrics</code></td>
<td>typing.Sequence[ibis.Scalar] | None</td>
<td>Aggregate expressions. These can be any scalar-producing expression, including aggregation functions like <code>sum</code> or literal values like <code>ibis.literal(1)</code>.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>by</code></td>
<td>typing.Sequence[ibis.Value] | None</td>
<td>Grouping expressions.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>having</code></td>
<td>typing.Sequence[ibis.BooleanValue] | None</td>
<td>Post-aggregation filters. The shape requirements are the same <code>metrics</code>, but the output type for <code>having</code> is <code>boolean</code>. !!! warning “Expressions like <code>x is None</code> return <code>bool</code> and <strong>will not</strong> generate a SQL comparison to <code>NULL</code>”</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>kwargs</code></td>
<td>ibis.Value</td>
<td>Named aggregate expressions</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns" class="level4">
<h4 class="anchored" data-anchor-id="returns">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>An aggregate table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples" class="level4">
<h4 class="anchored" data-anchor-id="examples">Examples</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"fruit"</span>: [<span class="st">"apple"</span>, <span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"orange"</span>], <span class="st">"price"</span>: [<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.25</span>, <span class="fl">0.33</span>]})</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━┓</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>┃ fruit  ┃ price   ┃</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━┩</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>│ string │ float64 │</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>├────────┼─────────┤</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>│ apple  │    <span class="fl">0.50</span> │</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>│ apple  │    <span class="fl">0.50</span> │</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>│ banana │    <span class="fl">0.25</span> │</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>│ orange │    <span class="fl">0.33</span> │</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>└────────┴─────────┘</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.aggregate(by<span class="op">=</span>[<span class="st">"fruit"</span>], total_cost<span class="op">=</span>_.price.<span class="bu">sum</span>(), avg_cost<span class="op">=</span>_.price.mean(), having<span class="op">=</span>_.price.<span class="bu">sum</span>() <span class="op">&lt;</span> <span class="fl">0.5</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>┃ fruit  ┃ total_cost ┃ avg_cost ┃</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>│ string │ float64    │ float64  │</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>├────────┼────────────┼──────────┤</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>│ banana │       <span class="fl">0.25</span> │     <span class="fl">0.25</span> │</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>│ orange │       <span class="fl">0.33</span> │     <span class="fl">0.33</span> │</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>└────────┴────────────┴──────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.alias" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.alias">alias</h3>
<p><code>expr.types.relations.Table.alias(self, alias)</code></p>
<p>Create a table expression with a specific name <code>alias</code>.</p>
<p>This method is useful for exposing an ibis expression to the underlying backend for use in the [<code>Table.sql</code>][ibis.expr.types.relations.Table.sql] method.</p>
<p>!!! note “<code>.alias</code> will create a temporary view”</p>
<pre><code>`.alias` creates a temporary view in the database.

This side effect will be removed in a future version of ibis and
**is not part of the public API**.</code></pre>
<section id="parameters-1" class="level4">
<h4 class="anchored" data-anchor-id="parameters-1">Parameters</h4>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>alias</code></td>
<td>str</td>
<td>Name of the child expression</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-1" class="level4">
<h4 class="anchored" data-anchor-id="returns-1">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>An table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-1" class="level4">
<h4 class="anchored" data-anchor-id="examples-1">Examples</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.alias(<span class="st">"pingüinos"</span>).sql(<span class="st">'SELECT * FROM "pingüinos" LIMIT 5'</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.as_table" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.as_table">as_table</h3>
<p><code>expr.types.relations.Table.as_table(self)</code></p>
<p>Promote the expression to a table.</p>
<p>This method is a no-op for table expressions.</p>
<section id="returns-2" class="level4">
<h4 class="anchored" data-anchor-id="returns-2">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>A table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-2" class="level4">
<h4 class="anchored" data-anchor-id="examples-2">Examples</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.table(<span class="bu">dict</span>(a<span class="op">=</span><span class="st">"int"</span>), name<span class="op">=</span><span class="st">"t"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> t.as_table()</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="kw">is</span> s</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.asof_join" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.asof_join">asof_join</h3>
<p><code>expr.types.relations.Table.asof_join(left, right, predicates=(), by=(), tolerance=None, *, lname='', rname='{name}_right')</code></p>
<p>Perform an “as-of” join between <code>left</code> and <code>right</code>.</p>
<p>Similar to a left join except that the match is done on nearest key rather than equal keys.</p>
<p>Optionally, match keys with <code>by</code> before joining with <code>predicates</code>.</p>
<section id="parameters-2" class="level4">
<h4 class="anchored" data-anchor-id="parameters-2">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 36%">
<col style="width: 48%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>left</code></td>
<td>Table</td>
<td>Table expression</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>right</code></td>
<td>Table</td>
<td>Table expression</td>
<td><em>required</em></td>
</tr>
<tr class="odd">
<td><code>predicates</code></td>
<td>str | ibis.BooleanColumn | typing.Sequence[str | ibis.BooleanColumn]</td>
<td>Join expressions</td>
<td><code>()</code></td>
</tr>
<tr class="even">
<td><code>by</code></td>
<td>str | ibis.Column | typing.Sequence[str | ibis.Column]</td>
<td>column to group by before joining</td>
<td><code>()</code></td>
</tr>
<tr class="odd">
<td><code>tolerance</code></td>
<td>str | ibis.IntervalScalar | None</td>
<td>Amount of time to look behind when joining</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>lname</code></td>
<td>str</td>
<td>A format string to use to rename overlapping columns in the left table (e.g.&nbsp;<code>"left_{name}"</code>).</td>
<td><code>''</code></td>
</tr>
<tr class="odd">
<td><code>rname</code></td>
<td>str</td>
<td>A format string to use to rename overlapping columns in the right table (e.g.&nbsp;<code>"right_{name}"</code>).</td>
<td><code>'{name}_right'</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-3" class="level4">
<h4 class="anchored" data-anchor-id="returns-3">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.Table.cache" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.cache">cache</h3>
<p><code>expr.types.relations.Table.cache(self)</code></p>
<p>Cache the provided expression.</p>
<p>All subsequent operations on the returned expression will be performed on the cached data. Use the <a href="https://docs.python.org/3/reference/compound_stmts.html#with"><code>with</code></a> statement to limit the lifetime of a cached table.</p>
<p>This method is idempotent: calling it multiple times in succession will return the same value as the first call.</p>
<p>!!! note “This method eagerly evaluates the expression prior to caching”</p>
<pre><code>Subsequent evaluations will not recompute the expression so method
chaining will not incur the overhead of caching more than once.</code></pre>
<section id="returns-4" class="level4">
<h4 class="anchored" data-anchor-id="returns-4">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Cached table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-3" class="level4">
<h4 class="anchored" data-anchor-id="examples-3">Examples</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cached_penguins <span class="op">=</span> t.mutate(computation<span class="op">=</span><span class="st">"Heavy Computation"</span>).cache()</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cached_penguins</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Explicit cache cleanup</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">with</span> t.mutate(computation<span class="op">=</span><span class="st">"Heavy Computation"</span>).cache() <span class="im">as</span> cached_penguins:</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>...     cached_penguins</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.cast" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.cast">cast</h3>
<p><code>expr.types.relations.Table.cast(self, schema)</code></p>
<p>Cast the columns of a table.</p>
<p>!!! note “If you need to cast columns to a single type, use <a href="https://ibis-project.org/blog/selectors/">selectors</a>.”</p>
<section id="parameters-3" class="level4">
<h4 class="anchored" data-anchor-id="parameters-3">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 10%">
<col style="width: 16%">
<col style="width: 60%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>schema</code></td>
<td>SupportsSchema</td>
<td>Mapping, schema or iterable of pairs to use for casting</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-5" class="level4">
<h4 class="anchored" data-anchor-id="returns-5">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Casted table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-4" class="level4">
<h4 class="anchored" data-anchor-id="examples-4">Examples</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.schema()</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>ibis.Schema {</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  species            string</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  island             string</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  bill_length_mm     float64</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  bill_depth_mm      float64</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  flipper_length_mm  int64</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  body_mass_g        int64</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  sex                string</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  year               int64</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cols <span class="op">=</span> [<span class="st">"body_mass_g"</span>, <span class="st">"bill_length_mm"</span>]</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t[cols].head()</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>┃ body_mass_g ┃ bill_length_mm ┃</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>│ int64       │ float64        │</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>├─────────────┼────────────────┤</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>│        <span class="dv">3750</span> │           <span class="fl">39.1</span> │</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>│        <span class="dv">3800</span> │           <span class="fl">39.5</span> │</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>│        <span class="dv">3250</span> │           <span class="fl">40.3</span> │</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>│        NULL │            nan │</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>│        <span class="dv">3450</span> │           <span class="fl">36.7</span> │</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>└─────────────┴────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Columns not present in the input schema will be passed through unchanged</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.columns</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>[<span class="st">'species'</span>, <span class="st">'island'</span>, <span class="st">'bill_length_mm'</span>, <span class="st">'bill_depth_mm'</span>, <span class="st">'flipper_length_mm'</span>, <span class="st">'body_mass_g'</span>, <span class="st">'sex'</span>, <span class="st">'year'</span>]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.cast({<span class="st">"body_mass_g"</span>: <span class="st">"float64"</span>, <span class="st">"bill_length_mm"</span>: <span class="st">"int"</span>})</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.select(<span class="op">*</span>cols).head()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>┃ body_mass_g ┃ bill_length_mm ┃</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>│ float64     │ int64          │</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>├─────────────┼────────────────┤</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>│      <span class="fl">3750.0</span> │             <span class="dv">39</span> │</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>│      <span class="fl">3800.0</span> │             <span class="dv">40</span> │</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>│      <span class="fl">3250.0</span> │             <span class="dv">40</span> │</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>│         nan │           NULL │</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>│      <span class="fl">3450.0</span> │             <span class="dv">37</span> │</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>└─────────────┴────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Columns that are in the input <code>schema</code> but not in the table raise an error</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.cast({<span class="st">"foo"</span>: <span class="st">"string"</span>})</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>ibis.common.exceptions.IbisError: Cast schema has fields that are <span class="kw">not</span> <span class="kw">in</span> the table: [<span class="st">'foo'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.count" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.count">count</h3>
<p><code>expr.types.relations.Table.count(self, where=None)</code></p>
<p>Compute the number of rows in the table.</p>
<section id="parameters-4" class="level4">
<h4 class="anchored" data-anchor-id="parameters-4">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 25%">
<col style="width: 55%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td>ibis.BooleanValue | None</td>
<td>Optional boolean expression to filter rows when counting.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-6" class="level4">
<h4 class="anchored" data-anchor-id="returns-6">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>IntegerScalar</td>
<td>Number of rows in the table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-5" class="level4">
<h4 class="anchored" data-anchor-id="examples-5">Examples</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="st">"foo"</span>, <span class="st">"bar"</span>, <span class="st">"baz"</span>]})</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┓</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>┃ a      ┃</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━┩</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>│ string │</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>├────────┤</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>│ foo    │</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>│ bar    │</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>│ baz    │</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>└────────┘</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.count()</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.count(t.a <span class="op">!=</span> <span class="st">"foo"</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(t.count())</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">'ibis.expr.types.numeric.IntegerScalar'</span><span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.cross_join" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.cross_join">cross_join</h3>
<p><code>expr.types.relations.Table.cross_join(left, right, *rest, lname='', rname='{name}_right')</code></p>
<p>Compute the cross join of a sequence of tables.</p>
<section id="parameters-5" class="level4">
<h4 class="anchored" data-anchor-id="parameters-5">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 74%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>left</code></td>
<td>Table</td>
<td>Left table</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>right</code></td>
<td>Table</td>
<td>Right table</td>
<td><em>required</em></td>
</tr>
<tr class="odd">
<td><code>rest</code></td>
<td>Table</td>
<td>Additional tables to cross join</td>
<td><code>()</code></td>
</tr>
<tr class="even">
<td><code>lname</code></td>
<td>str</td>
<td>A format string to use to rename overlapping columns in the left table (e.g.&nbsp;<code>"left_{name}"</code>).</td>
<td><code>''</code></td>
</tr>
<tr class="odd">
<td><code>rname</code></td>
<td>str</td>
<td>A format string to use to rename overlapping columns in the right table (e.g.&nbsp;<code>"right_{name}"</code>).</td>
<td><code>'{name}_right'</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-7" class="level4">
<h4 class="anchored" data-anchor-id="returns-7">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Cross join of <code>left</code>, <code>right</code> and <code>rest</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-6" class="level4">
<h4 class="anchored" data-anchor-id="examples-6">Examples</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.count()</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="dv">344</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> agg <span class="op">=</span> t.drop(<span class="st">"year"</span>).agg(s.across(s.numeric(), _.mean()))</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.cross_join(agg)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.columns</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>[<span class="st">'species'</span>,</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a> <span class="st">'island'</span>,</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a> <span class="st">'bill_length_mm'</span>,</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a> <span class="st">'bill_depth_mm'</span>,</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a> <span class="st">'flipper_length_mm'</span>,</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a> <span class="st">'body_mass_g'</span>,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a> <span class="st">'sex'</span>,</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a> <span class="st">'year'</span>,</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a> <span class="st">'bill_length_mm_right'</span>,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a> <span class="st">'bill_depth_mm_right'</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a> <span class="st">'flipper_length_mm_right'</span>,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a> <span class="st">'body_mass_g_right'</span>]</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.count()</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="dv">344</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.difference" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.difference">difference</h3>
<p><code>expr.types.relations.Table.difference(self, table, *rest, distinct=True)</code></p>
<p>Compute the set difference of multiple table expressions.</p>
<p>The input tables must have identical schemas.</p>
<section id="parameters-6" class="level4">
<h4 class="anchored" data-anchor-id="parameters-6">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 65%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>table</code></td>
<td>Table</td>
<td>A table expression</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>*rest</code></td>
<td>Table</td>
<td>Additional table expressions</td>
<td><code>()</code></td>
</tr>
<tr class="odd">
<td><code>distinct</code></td>
<td>bool</td>
<td>Only diff distinct rows not occurring in the calling table</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
</section>
<section id="see-also" class="level4">
<h4 class="anchored" data-anchor-id="see-also">See Also</h4>
<p>[<code>ibis.difference</code>][ibis.difference]</p>
</section>
<section id="returns-8" class="level4">
<h4 class="anchored" data-anchor-id="returns-8">Returns</h4>
<table class="table">
<colgroup>
<col style="width: 11%">
<col style="width: 88%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>The rows present in <code>self</code> that are not present in <code>tables</code>.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-7" class="level4">
<h4 class="anchored" data-anchor-id="examples-7">Examples</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1 <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>]})</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2 <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">2</span>, <span class="dv">3</span>]})</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1.difference(t2)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>└───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.distinct" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.distinct">distinct</h3>
<p><code>expr.types.relations.Table.distinct(self, *, on=None, keep='first')</code></p>
<p>Return a Table with duplicate rows removed.</p>
<p>Similar to <code>pandas.DataFrame.drop_duplicates()</code>.</p>
<p>!!! note “Some backends do not support <code>keep='last'</code>”</p>
<section id="parameters-7" class="level4">
<h4 class="anchored" data-anchor-id="parameters-7">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 21%">
<col style="width: 71%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>on</code></td>
<td>str | typing.Iterable[str] | ibis.Selector | None</td>
<td>Only consider certain columns for identifying duplicates. By default deduplicate all of the columns.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>keep</code></td>
<td>typing.Literal[‘first’, ‘last’] | None</td>
<td>Determines which duplicates to keep. - <code>"first"</code>: Drop duplicates except for the first occurrence. - <code>"last"</code>: Drop duplicates except for the last occurrence. - <code>None</code>: Drop all duplicates</td>
<td><code>'first'</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-8" class="level4">
<h4 class="anchored" data-anchor-id="examples-8">Examples</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.examples <span class="im">as</span> ex</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ex.penguins.fetch()</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Compute the distinct rows of a subset of columns</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t[[<span class="st">"species"</span>, <span class="st">"island"</span>]].distinct()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━┓</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>┃ species   ┃ island    ┃</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━┩</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>│ string    │ string    │</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────┤</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Torgersen │</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Biscoe    │</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Dream     │</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>│ Gentoo    │ Biscoe    │</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>│ Chinstrap │ Dream     │</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Drop all duplicate rows except the first</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.distinct(on<span class="op">=</span>[<span class="st">"species"</span>, <span class="st">"island"</span>], keep<span class="op">=</span><span class="st">"first"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━┓</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>┃ species   ┃ island    ┃ bill_length_mm ┃ bill_depth_… ┃ flipper_length_mm ┃  ┃</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━┩</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>│ string    │ string    │ float64        │ float64      │ int64             │  │</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────┼────────────────┼──────────────┼───────────────────┼──┤</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Torgersen │           <span class="fl">39.1</span> │         <span class="fl">18.7</span> │               <span class="dv">181</span> │  │</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Biscoe    │           <span class="fl">37.8</span> │         <span class="fl">18.3</span> │               <span class="dv">174</span> │  │</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Dream     │           <span class="fl">39.5</span> │         <span class="fl">16.7</span> │               <span class="dv">178</span> │  │</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>│ Gentoo    │ Biscoe    │           <span class="fl">46.1</span> │         <span class="fl">13.2</span> │               <span class="dv">211</span> │  │</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>│ Chinstrap │ Dream     │           <span class="fl">46.5</span> │         <span class="fl">17.9</span> │               <span class="dv">192</span> │  │</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────┴────────────────┴──────────────┴───────────────────┴──┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Drop all duplicate rows except the last</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.distinct(on<span class="op">=</span>[<span class="st">"species"</span>, <span class="st">"island"</span>], keep<span class="op">=</span><span class="st">"last"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━┓</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>┃ species   ┃ island    ┃ bill_length_mm ┃ bill_depth_… ┃ flipper_length_mm ┃  ┃</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━┩</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>│ string    │ string    │ float64        │ float64      │ int64             │  │</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────┼────────────────┼──────────────┼───────────────────┼──┤</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Torgersen │           <span class="fl">43.1</span> │         <span class="fl">19.2</span> │               <span class="dv">197</span> │  │</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Biscoe    │           <span class="fl">42.7</span> │         <span class="fl">18.3</span> │               <span class="dv">196</span> │  │</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>│ Adelie    │ Dream     │           <span class="fl">41.5</span> │         <span class="fl">18.5</span> │               <span class="dv">201</span> │  │</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>│ Gentoo    │ Biscoe    │           <span class="fl">49.9</span> │         <span class="fl">16.1</span> │               <span class="dv">213</span> │  │</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>│ Chinstrap │ Dream     │           <span class="fl">50.2</span> │         <span class="fl">18.7</span> │               <span class="dv">198</span> │  │</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────┴────────────────┴──────────────┴───────────────────┴──┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Drop all duplicated rows</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.distinct(on<span class="op">=</span>[<span class="st">"species"</span>, <span class="st">"island"</span>, <span class="st">"year"</span>, <span class="st">"bill_length_mm"</span>], keep<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.count()</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="dv">273</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.count()</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="dv">344</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can pass [<code>selectors</code>][ibis.selectors] to <code>on</code></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.distinct(on<span class="op">=~</span>s.numeric())</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Biscoe    │           <span class="fl">37.8</span> │          <span class="fl">18.3</span> │               <span class="dv">174</span> │ … │</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Biscoe    │           <span class="fl">37.7</span> │          <span class="fl">18.7</span> │               <span class="dv">180</span> │ … │</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Dream     │           <span class="fl">39.5</span> │          <span class="fl">16.7</span> │               <span class="dv">178</span> │ … │</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Dream     │           <span class="fl">37.2</span> │          <span class="fl">18.1</span> │               <span class="dv">178</span> │ … │</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Dream     │           <span class="fl">37.5</span> │          <span class="fl">18.9</span> │               <span class="dv">179</span> │ … │</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>│ Gentoo  │ Biscoe    │           <span class="fl">46.1</span> │          <span class="fl">13.2</span> │               <span class="dv">211</span> │ … │</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>│ Gentoo  │ Biscoe    │           <span class="fl">50.0</span> │          <span class="fl">16.3</span> │               <span class="dv">230</span> │ … │</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The only valid values of <code>keep</code> are <code>"first"</code>, <code>"last"</code> and [`None][None]</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.distinct(on<span class="op">=</span><span class="st">"species"</span>, keep<span class="op">=</span><span class="st">"second"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>ibis.common.exceptions.IbisError: Invalid value <span class="cf">for</span> keep: <span class="st">'second'</span> ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.drop" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.drop">drop</h3>
<p><code>expr.types.relations.Table.drop(self, *fields)</code></p>
<p>Remove fields from a table.</p>
<section id="parameters-8" class="level4">
<h4 class="anchored" data-anchor-id="parameters-8">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 30%">
<col style="width: 50%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>fields</code></td>
<td>str | ibis.selectors.Selector</td>
<td>Fields to drop. Strings and selectors are accepted.</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-9" class="level4">
<h4 class="anchored" data-anchor-id="returns-9">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>A table with all columns matching <code>fields</code> removed.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-9" class="level4">
<h4 class="anchored" data-anchor-id="examples-9">Examples</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Drop one or more columns</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.drop(<span class="st">"species"</span>).head()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>│ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>├───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>│ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>└───────────┴────────────────┴───────────────┴───────────────────┴───┘</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.drop(<span class="st">"species"</span>, <span class="st">"bill_length_mm"</span>).head()</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━┓</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>┃ island    ┃ bill_depth_mm ┃ flipper_length_mm ┃ body_mass_g ┃ sex    ┃ … ┃</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━┩</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>│ string    │ float64       │ int64             │ int64       │ string │ … │</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────────┼───────────────────┼─────────────┼────────┼───┤</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>│ Torgersen │          <span class="fl">18.7</span> │               <span class="dv">181</span> │        <span class="dv">3750</span> │ male   │ … │</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>│ Torgersen │          <span class="fl">17.4</span> │               <span class="dv">186</span> │        <span class="dv">3800</span> │ female │ … │</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>│ Torgersen │          <span class="fl">18.0</span> │               <span class="dv">195</span> │        <span class="dv">3250</span> │ female │ … │</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           nan │              NULL │        NULL │ NULL   │ … │</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>│ Torgersen │          <span class="fl">19.3</span> │               <span class="dv">193</span> │        <span class="dv">3450</span> │ female │ … │</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────────┴───────────────────┴─────────────┴────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Drop with selectors, mix and match</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.drop(<span class="st">"species"</span>, s.startswith(<span class="st">"bill_"</span>)).head()</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━┓</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>┃ island    ┃ flipper_length_mm ┃ body_mass_g ┃ sex    ┃ year  ┃</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━┩</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>│ string    │ int64             │ int64       │ string │ int64 │</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────────────┼─────────────┼────────┼───────┤</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>│ Torgersen │               <span class="dv">181</span> │        <span class="dv">3750</span> │ male   │  <span class="dv">2007</span> │</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>│ Torgersen │               <span class="dv">186</span> │        <span class="dv">3800</span> │ female │  <span class="dv">2007</span> │</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>│ Torgersen │               <span class="dv">195</span> │        <span class="dv">3250</span> │ female │  <span class="dv">2007</span> │</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>│ Torgersen │              NULL │        NULL │ NULL   │  <span class="dv">2007</span> │</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>│ Torgersen │               <span class="dv">193</span> │        <span class="dv">3450</span> │ female │  <span class="dv">2007</span> │</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────────────┴─────────────┴────────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.dropna" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.dropna">dropna</h3>
<p><code>expr.types.relations.Table.dropna(self, subset=None, how='any')</code></p>
<p>Remove rows with null values from the table.</p>
<section id="parameters-9" class="level4">
<h4 class="anchored" data-anchor-id="parameters-9">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 4%">
<col style="width: 19%">
<col style="width: 70%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>subset</code></td>
<td>typing.Sequence[str] | str | None</td>
<td>Columns names to consider when dropping nulls. By default all columns are considered.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>how</code></td>
<td>typing.Literal[‘any’, ‘all’]</td>
<td>Determine whether a row is removed if there is <strong>at least one null value in the row</strong> (<code>'any'</code>), or if <strong>all</strong> row values are null (<code>'all'</code>).</td>
<td><code>'any'</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-10" class="level4">
<h4 class="anchored" data-anchor-id="returns-10">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-10" class="level4">
<h4 class="anchored" data-anchor-id="examples-10">Examples</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.count()</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="dv">344</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.dropna([<span class="st">"bill_length_mm"</span>, <span class="st">"body_mass_g"</span>]).count()</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a><span class="dv">342</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.dropna(how<span class="op">=</span><span class="st">"all"</span>).count()  <span class="co"># no rows where all columns are null</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a><span class="dv">344</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.fillna" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.fillna">fillna</h3>
<p><code>expr.types.relations.Table.fillna(self, replacements)</code></p>
<p>Fill null values in a table expression.</p>
<p>!!! note “There is potential lack of type stability with the <code>fillna</code> API”</p>
<pre><code>For example, different library versions may impact whether a given
backend promotes integer replacement values to floats.</code></pre>
<section id="parameters-10" class="level4">
<h4 class="anchored" data-anchor-id="parameters-10">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 70%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>replacements</code></td>
<td>ibis.Scalar | typing.Mapping[str, ibis.Scalar]</td>
<td>Value with which to fill nulls. If <code>replacements</code> is a mapping, the keys are column names that map to their replacement value. If passed as a scalar all columns are filled with that value.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-11" class="level4">
<h4 class="anchored" data-anchor-id="examples-11">Examples</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.sex</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┓</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>┃ sex    ┃</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━┩</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>│ string │</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>├────────┤</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>│ male   │</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>│ female │</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>│ female │</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>│ NULL   │</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>│ female │</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>│ male   │</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>│ female │</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>│ male   │</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>│ NULL   │</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>│ NULL   │</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>│ …      │</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>└────────┘</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.fillna({<span class="st">"sex"</span>: <span class="st">"unrecorded"</span>}).sex</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━┓</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>┃ sex        ┃</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━┩</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>│ string     │</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>├────────────┤</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>│ male       │</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>│ female     │</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>│ female     │</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>│ unrecorded │</span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>│ female     │</span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>│ male       │</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>│ female     │</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>│ male       │</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a>│ unrecorded │</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a>│ unrecorded │</span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a>│ …          │</span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>└────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="returns-11" class="level4">
<h4 class="anchored" data-anchor-id="returns-11">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.Table.filter" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.filter">filter</h3>
<p><code>expr.types.relations.Table.filter(self, predicates)</code></p>
<p>Select rows from <code>table</code> based on <code>predicates</code>.</p>
<section id="parameters-11" class="level4">
<h4 class="anchored" data-anchor-id="parameters-11">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 50%">
<col style="width: 34%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>predicates</code></td>
<td>ibis.BooleanValue | typing.Sequence[ibis.BooleanValue] | ibis.selectors.IfAnyAll</td>
<td>Boolean value expressions used to select rows in <code>table</code>.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-12" class="level4">
<h4 class="anchored" data-anchor-id="returns-12">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Filtered table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-12" class="level4">
<h4 class="anchored" data-anchor-id="examples-12">Examples</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.<span class="bu">filter</span>([t.species <span class="op">==</span> <span class="st">"Adelie"</span>, t.body_mass_g <span class="op">&gt;</span> <span class="dv">3500</span>]).sex.value_counts().dropna(<span class="st">"sex"</span>)</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━┓</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>┃ sex    ┃ sex_count ┃</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━┩</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>│ string │ int64     │</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>├────────┼───────────┤</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>│ male   │        <span class="dv">68</span> │</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>│ female │        <span class="dv">22</span> │</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>└────────┴───────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.group_by" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.group_by">group_by</h3>
<p><code>expr.types.relations.Table.group_by(self, by=None, **key_exprs)</code></p>
<p>Create a grouped table expression.</p>
<section id="parameters-12" class="level4">
<h4 class="anchored" data-anchor-id="parameters-12">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 62%">
<col style="width: 20%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>by</code></td>
<td>str | ibis.Value | typing.Iterable[str] | typing.Iterable[ibis.Value] | None</td>
<td>Grouping expressions</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>key_exprs</code></td>
<td>str | ibis.Value | typing.Iterable[str] | typing.Iterable[ibis.Value]</td>
<td>Named grouping expressions</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-13" class="level4">
<h4 class="anchored" data-anchor-id="returns-13">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GroupedTable</td>
<td>A grouped table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-13" class="level4">
<h4 class="anchored" data-anchor-id="examples-13">Examples</h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"fruit"</span>: [<span class="st">"apple"</span>, <span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"orange"</span>], <span class="st">"price"</span>: [<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.25</span>, <span class="fl">0.33</span>]})</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━┓</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>┃ fruit  ┃ price   ┃</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━┩</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>│ string │ float64 │</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>├────────┼─────────┤</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>│ apple  │    <span class="fl">0.50</span> │</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>│ apple  │    <span class="fl">0.50</span> │</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>│ banana │    <span class="fl">0.25</span> │</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>│ orange │    <span class="fl">0.33</span> │</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>└────────┴─────────┘</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(<span class="st">"fruit"</span>).agg(total_cost<span class="op">=</span>_.price.<span class="bu">sum</span>(), avg_cost<span class="op">=</span>_.price.mean())</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>┃ fruit  ┃ total_cost ┃ avg_cost ┃</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>│ string │ float64    │ float64  │</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>├────────┼────────────┼──────────┤</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>│ apple  │       <span class="fl">1.00</span> │     <span class="fl">0.50</span> │</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>│ banana │       <span class="fl">0.25</span> │     <span class="fl">0.25</span> │</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>│ orange │       <span class="fl">0.33</span> │     <span class="fl">0.33</span> │</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>└────────┴────────────┴──────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.head" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.head">head</h3>
<p><code>expr.types.relations.Table.head(self, n=5)</code></p>
<p>Select the first <code>n</code> rows of a table.</p>
<p>!!! note “The result set is not deterministic without a call to [<code>order_by</code>][ibis.expr.types.relations.Table.order_by].”</p>
<section id="parameters-13" class="level4">
<h4 class="anchored" data-anchor-id="parameters-13">Parameters</h4>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>n</code></td>
<td>int</td>
<td>Number of rows to include</td>
<td><code>5</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-14" class="level4">
<h4 class="anchored" data-anchor-id="returns-14">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td><code>self</code> limited to <code>n</code> rows</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-14" class="level4">
<h4 class="anchored" data-anchor-id="examples-14">Examples</h4>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>], <span class="st">"b"</span>: [<span class="st">"c"</span>, <span class="st">"a"</span>, <span class="st">"a"</span>]})</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┓</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━┩</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>├───────┼────────┤</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ a      │</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │ a      │</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>└───────┴────────┘</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.head(<span class="dv">2</span>)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┓</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━┩</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>├───────┼────────┤</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ a      │</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>└───────┴────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="see-also-1" class="level4">
<h4 class="anchored" data-anchor-id="see-also-1">See Also</h4>
<p>[<code>Table.limit</code>][ibis.expr.types.relations.Table.limit] [<code>Table.order_by</code>][ibis.expr.types.relations.Table.order_by]</p>
</section>
</section>
<section id="ibis.expr.types.relations.Table.info" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.info">info</h3>
<p><code>expr.types.relations.Table.info(self)</code></p>
<p>Return summary information about a table.</p>
<section id="returns-15" class="level4">
<h4 class="anchored" data-anchor-id="returns-15">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Summary of <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-15" class="level4">
<h4 class="anchored" data-anchor-id="examples-15">Examples</h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.info()</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━┳━━━┓</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>┃ name              ┃ <span class="bu">type</span>    ┃ nullable ┃ nulls ┃ non_nulls ┃ null_frac ┃ … ┃</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━╇━━━┩</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>│ string            │ string  │ boolean  │ int64 │ int64     │ float64   │ … │</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>├───────────────────┼─────────┼──────────┼───────┼───────────┼───────────┼───┤</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>│ species           │ string  │ <span class="va">True</span>     │     <span class="dv">0</span> │       <span class="dv">344</span> │  <span class="fl">0.000000</span> │ … │</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>│ island            │ string  │ <span class="va">True</span>     │     <span class="dv">0</span> │       <span class="dv">344</span> │  <span class="fl">0.000000</span> │ … │</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>│ bill_length_mm    │ float64 │ <span class="va">True</span>     │     <span class="dv">2</span> │       <span class="dv">342</span> │  <span class="fl">0.005814</span> │ … │</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>│ bill_depth_mm     │ float64 │ <span class="va">True</span>     │     <span class="dv">2</span> │       <span class="dv">342</span> │  <span class="fl">0.005814</span> │ … │</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>│ flipper_length_mm │ int64   │ <span class="va">True</span>     │     <span class="dv">2</span> │       <span class="dv">342</span> │  <span class="fl">0.005814</span> │ … │</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>│ body_mass_g       │ int64   │ <span class="va">True</span>     │     <span class="dv">2</span> │       <span class="dv">342</span> │  <span class="fl">0.005814</span> │ … │</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>│ sex               │ string  │ <span class="va">True</span>     │    <span class="dv">11</span> │       <span class="dv">333</span> │  <span class="fl">0.031977</span> │ … │</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>│ year              │ int64   │ <span class="va">True</span>     │     <span class="dv">0</span> │       <span class="dv">344</span> │  <span class="fl">0.000000</span> │ … │</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>└───────────────────┴─────────┴──────────┴───────┴───────────┴───────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.intersect" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.intersect">intersect</h3>
<p><code>expr.types.relations.Table.intersect(self, table, *rest, distinct=True)</code></p>
<p>Compute the set intersection of multiple table expressions.</p>
<p>The input tables must have identical schemas.</p>
<section id="parameters-14" class="level4">
<h4 class="anchored" data-anchor-id="parameters-14">Parameters</h4>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>table</code></td>
<td>Table</td>
<td>A table expression</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>*rest</code></td>
<td>Table</td>
<td>Additional table expressions</td>
<td><code>()</code></td>
</tr>
<tr class="odd">
<td><code>distinct</code></td>
<td>bool</td>
<td>Only return distinct rows</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-16" class="level4">
<h4 class="anchored" data-anchor-id="returns-16">Returns</h4>
<table class="table">
<colgroup>
<col style="width: 11%">
<col style="width: 88%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>A new table containing the intersection of all input tables.</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-2" class="level4">
<h4 class="anchored" data-anchor-id="see-also-2">See Also</h4>
<p>[<code>ibis.intersect</code>][ibis.intersect]</p>
</section>
<section id="examples-16" class="level4">
<h4 class="anchored" data-anchor-id="examples-16">Examples</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1 <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>]})</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2 <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">2</span>, <span class="dv">3</span>]})</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1.intersect(t2)</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>└───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.join" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.join">join</h3>
<p><code>expr.types.relations.Table.join(left, right, predicates=(), how='inner', *, lname='', rname='{name}_right')</code></p>
<p>Perform a join between two tables.</p>
<section id="parameters-15" class="level4">
<h4 class="anchored" data-anchor-id="parameters-15">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 44%">
<col style="width: 41%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>left</code></td>
<td>Table</td>
<td>Left table to join</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>right</code></td>
<td>Table</td>
<td>Right table to join</td>
<td><em>required</em></td>
</tr>
<tr class="odd">
<td><code>predicates</code></td>
<td>str | typing.Sequence[str | tuple[str | ibis.Column, str | ibis.Column] | ibis.BooleanColumn]</td>
<td>Boolean or column names to join on</td>
<td><code>()</code></td>
</tr>
<tr class="even">
<td><code>how</code></td>
<td>typing.Literal[‘inner’, ‘left’, ‘outer’, ‘right’, ‘semi’, ‘anti’, ‘any_inner’, ‘any_left’, ‘left_semi’]</td>
<td>Join method</td>
<td><code>'inner'</code></td>
</tr>
<tr class="odd">
<td><code>lname</code></td>
<td>str</td>
<td>A format string to use to rename overlapping columns in the left table (e.g.&nbsp;<code>"left_{name}"</code>).</td>
<td><code>''</code></td>
</tr>
<tr class="even">
<td><code>rname</code></td>
<td>str</td>
<td>A format string to use to rename overlapping columns in the right table (e.g.&nbsp;<code>"right_{name}"</code>).</td>
<td><code>'{name}_right'</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-17" class="level4">
<h4 class="anchored" data-anchor-id="examples-17">Examples</h4>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.examples <span class="im">as</span> ex</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> movies <span class="op">=</span> ex.ml_latest_small_movies.fetch()</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> movies</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>┃ movieId ┃ title                            ┃ genres                          ┃</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>│ int64   │ string                           │ string                          │</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>├─────────┼──────────────────────────────────┼─────────────────────────────────┤</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">1</span> │ Toy Story (<span class="dv">1995</span>)                 │ Adventure<span class="op">|</span>Animation<span class="op">|</span>Children<span class="op">|</span>C… │</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">2</span> │ Jumanji (<span class="dv">1995</span>)                   │ Adventure<span class="op">|</span>Children<span class="op">|</span>Fantasy      │</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">3</span> │ Grumpier Old Men (<span class="dv">1995</span>)          │ Comedy<span class="op">|</span>Romance                  │</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">4</span> │ Waiting to Exhale (<span class="dv">1995</span>)         │ Comedy<span class="op">|</span>Drama<span class="op">|</span>Romance            │</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">5</span> │ Father of the Bride Part II (<span class="dv">19</span>… │ Comedy                          │</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">6</span> │ Heat (<span class="dv">1995</span>)                      │ Action<span class="op">|</span>Crime<span class="op">|</span>Thriller           │</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">7</span> │ Sabrina (<span class="dv">1995</span>)                   │ Comedy<span class="op">|</span>Romance                  │</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">8</span> │ Tom <span class="kw">and</span> Huck (<span class="dv">1995</span>)              │ Adventure<span class="op">|</span>Children              │</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">9</span> │ Sudden Death (<span class="dv">1995</span>)              │ Action                          │</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">10</span> │ GoldenEye (<span class="dv">1995</span>)                 │ Action<span class="op">|</span>Adventure<span class="op">|</span>Thriller       │</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>│       … │ …                                │ …                               │</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>└─────────┴──────────────────────────────────┴─────────────────────────────────┘</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> links <span class="op">=</span> ex.ml_latest_small_links.fetch()</span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> links</span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┓</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>┃ movieId ┃ imdbId  ┃ tmdbId ┃</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━┩</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>│ int64   │ string  │ int64  │</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>├─────────┼─────────┼────────┤</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">1</span> │ <span class="dv">0</span><span class="er">114709</span> │    <span class="dv">862</span> │</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">2</span> │ <span class="dv">0</span><span class="er">113497</span> │   <span class="dv">8844</span> │</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">3</span> │ <span class="dv">0</span><span class="er">113228</span> │  <span class="dv">15602</span> │</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">4</span> │ <span class="dv">0</span><span class="er">114885</span> │  <span class="dv">31357</span> │</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">5</span> │ <span class="dv">0</span><span class="er">113041</span> │  <span class="dv">11862</span> │</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">6</span> │ <span class="dv">0</span><span class="er">113277</span> │    <span class="dv">949</span> │</span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">7</span> │ <span class="dv">0</span><span class="er">114319</span> │  <span class="dv">11860</span> │</span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">8</span> │ <span class="dv">0</span><span class="er">112302</span> │  <span class="dv">45325</span> │</span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">9</span> │ <span class="dv">0</span><span class="er">114576</span> │   <span class="dv">9091</span> │</span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">10</span> │ <span class="dv">0</span><span class="er">113189</span> │    <span class="dv">710</span> │</span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a>│       … │ …       │      … │</span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a>└─────────┴─────────┴────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Implicit inner equality join on the shared <code>movieId</code> column</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> linked <span class="op">=</span> movies.join(links, <span class="st">"movieId"</span>, how<span class="op">=</span><span class="st">"inner"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> linked.head()</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┓</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>┃ movieId ┃ title                  ┃ genres                 ┃ imdbId  ┃ tmdbId ┃</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━┩</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>│ int64   │ string                 │ string                 │ string  │ int64  │</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>├─────────┼────────────────────────┼────────────────────────┼─────────┼────────┤</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">1</span> │ Toy Story (<span class="dv">1995</span>)       │ Adventure<span class="op">|</span>Animation<span class="op">|</span>C… │ <span class="dv">0</span><span class="er">114709</span> │    <span class="dv">862</span> │</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">2</span> │ Jumanji (<span class="dv">1995</span>)         │ Adventure<span class="op">|</span>Children<span class="op">|</span>Fa… │ <span class="dv">0</span><span class="er">113497</span> │   <span class="dv">8844</span> │</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">3</span> │ Grumpier Old Men (<span class="dv">199</span>… │ Comedy<span class="op">|</span>Romance         │ <span class="dv">0</span><span class="er">113228</span> │  <span class="dv">15602</span> │</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">4</span> │ Waiting to Exhale (<span class="dv">19</span>… │ Comedy<span class="op">|</span>Drama<span class="op">|</span>Romance   │ <span class="dv">0</span><span class="er">114885</span> │  <span class="dv">31357</span> │</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">5</span> │ Father of the Bride P… │ Comedy                 │ <span class="dv">0</span><span class="er">113041</span> │  <span class="dv">11862</span> │</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>└─────────┴────────────────────────┴────────────────────────┴─────────┴────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Explicit equality join using the default <code>how</code> value of <code>"inner"</code></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> linked <span class="op">=</span> movies.join(links, movies.movieId <span class="op">==</span> links.movieId)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> linked.head()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┓</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>┃ movieId ┃ title                  ┃ genres                 ┃ imdbId  ┃ tmdbId ┃</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━┩</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>│ int64   │ string                 │ string                 │ string  │ int64  │</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>├─────────┼────────────────────────┼────────────────────────┼─────────┼────────┤</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">1</span> │ Toy Story (<span class="dv">1995</span>)       │ Adventure<span class="op">|</span>Animation<span class="op">|</span>C… │ <span class="dv">0</span><span class="er">114709</span> │    <span class="dv">862</span> │</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">2</span> │ Jumanji (<span class="dv">1995</span>)         │ Adventure<span class="op">|</span>Children<span class="op">|</span>Fa… │ <span class="dv">0</span><span class="er">113497</span> │   <span class="dv">8844</span> │</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">3</span> │ Grumpier Old Men (<span class="dv">199</span>… │ Comedy<span class="op">|</span>Romance         │ <span class="dv">0</span><span class="er">113228</span> │  <span class="dv">15602</span> │</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">4</span> │ Waiting to Exhale (<span class="dv">19</span>… │ Comedy<span class="op">|</span>Drama<span class="op">|</span>Romance   │ <span class="dv">0</span><span class="er">114885</span> │  <span class="dv">31357</span> │</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>│       <span class="dv">5</span> │ Father of the Bride P… │ Comedy                 │ <span class="dv">0</span><span class="er">113041</span> │  <span class="dv">11862</span> │</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>└─────────┴────────────────────────┴────────────────────────┴─────────┴────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.limit" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.limit">limit</h3>
<p><code>expr.types.relations.Table.limit(self, n, offset=0)</code></p>
<p>Select <code>n</code> rows from <code>self</code> starting at <code>offset</code>.</p>
<p>!!! note “The result set is not deterministic without a call to [<code>order_by</code>][ibis.expr.types.relations.Table.order_by].”</p>
<section id="parameters-16" class="level4">
<h4 class="anchored" data-anchor-id="parameters-16">Parameters</h4>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>n</code></td>
<td>int</td>
<td>Number of rows to include</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>offset</code></td>
<td>int</td>
<td>Number of rows to skip first</td>
<td><code>0</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-17" class="level4">
<h4 class="anchored" data-anchor-id="returns-17">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>The first <code>n</code> rows of <code>self</code> starting at <code>offset</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-18" class="level4">
<h4 class="anchored" data-anchor-id="examples-18">Examples</h4>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>], <span class="st">"b"</span>: [<span class="st">"c"</span>, <span class="st">"a"</span>, <span class="st">"a"</span>]})</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┓</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━┩</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>├───────┼────────┤</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ a      │</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │ a      │</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>└───────┴────────┘</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.limit(<span class="dv">2</span>)</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┓</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━┩</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>├───────┼────────┤</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ a      │</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>└───────┴────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="see-also-3" class="level4">
<h4 class="anchored" data-anchor-id="see-also-3">See Also</h4>
<p>[<code>Table.order_by</code>][ibis.expr.types.relations.Table.order_by]</p>
</section>
</section>
<section id="ibis.expr.types.relations.Table.mutate" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.mutate">mutate</h3>
<p><code>expr.types.relations.Table.mutate(self, exprs=None, **mutations)</code></p>
<p>Add columns to a table expression.</p>
<section id="parameters-17" class="level4">
<h4 class="anchored" data-anchor-id="parameters-17">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 35%">
<col style="width: 42%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>exprs</code></td>
<td>typing.Sequence[ibis.Expr] | None</td>
<td>List of named expressions to add as columns</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>mutations</code></td>
<td>ibis.Value</td>
<td>Named expressions using keyword arguments</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-18" class="level4">
<h4 class="anchored" data-anchor-id="returns-18">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table expression with additional columns</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-19" class="level4">
<h4 class="anchored" data-anchor-id="examples-19">Examples</h4>
<div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().select(<span class="st">"species"</span>, <span class="st">"year"</span>, <span class="st">"bill_length_mm"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━┓</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>┃ species ┃ year  ┃ bill_length_mm ┃</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━┩</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>│ string  │ int64 │ float64        │</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>├─────────┼───────┼────────────────┤</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">39.1</span> │</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">39.5</span> │</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">40.3</span> │</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │            nan │</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">36.7</span> │</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">39.3</span> │</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">38.9</span> │</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">39.2</span> │</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">34.1</span> │</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">42.0</span> │</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>│ …       │     … │              … │</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>└─────────┴───────┴────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Add a new column from a per-element expression</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.mutate(next_year<span class="op">=</span>_.year <span class="op">+</span> <span class="dv">1</span>).head()</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━┓</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>┃ species ┃ year  ┃ bill_length_mm ┃ next_year ┃</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━┩</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>│ string  │ int64 │ float64        │ int64     │</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>├─────────┼───────┼────────────────┼───────────┤</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">39.1</span> │      <span class="dv">2008</span> │</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">39.5</span> │      <span class="dv">2008</span> │</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">40.3</span> │      <span class="dv">2008</span> │</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │            nan │      <span class="dv">2008</span> │</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │           <span class="fl">36.7</span> │      <span class="dv">2008</span> │</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>└─────────┴───────┴────────────────┴───────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Add a new column based on an aggregation. Note the automatic broadcasting.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(<span class="st">"species"</span>, bill_demean<span class="op">=</span>_.bill_length_mm <span class="op">-</span> _.bill_length_mm.mean()).head()</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━┓</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>┃ species ┃ bill_demean ┃</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━┩</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>│ string  │ float64     │</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>├─────────┼─────────────┤</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>│ Adelie  │    <span class="op">-</span><span class="fl">4.82193</span> │</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>│ Adelie  │    <span class="op">-</span><span class="fl">4.42193</span> │</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>│ Adelie  │    <span class="op">-</span><span class="fl">3.62193</span> │</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │         nan │</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │    <span class="op">-</span><span class="fl">7.22193</span> │</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>└─────────┴─────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Mutate across multiple columns</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.mutate(s.across(s.numeric() <span class="op">&amp;</span> <span class="op">~</span>s.c(<span class="st">"year"</span>), _ <span class="op">-</span> _.mean())).head()</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━┓</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>┃ species ┃ year  ┃ bill_length_mm ┃</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━┩</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>│ string  │ int64 │ float64        │</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>├─────────┼───────┼────────────────┤</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │       <span class="op">-</span><span class="fl">4.82193</span> │</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │       <span class="op">-</span><span class="fl">4.42193</span> │</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │       <span class="op">-</span><span class="fl">3.62193</span> │</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │            nan │</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │  <span class="dv">2007</span> │       <span class="op">-</span><span class="fl">7.22193</span> │</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>└─────────┴───────┴────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.order_by" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.order_by">order_by</h3>
<p><code>expr.types.relations.Table.order_by(self, by)</code></p>
<p>Sort a table by one or more expressions.</p>
<section id="parameters-18" class="level4">
<h4 class="anchored" data-anchor-id="parameters-18">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 76%">
<col style="width: 14%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>by</code></td>
<td>str | ibis.Column | tuple[str | ibis.Column, bool] | typing.Sequence[str] | typing.Sequence[ibis.Column] | typing.Sequence[tuple[str | ibis.Column, bool]] | None</td>
<td>Expressions to sort the table by.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-19" class="level4">
<h4 class="anchored" data-anchor-id="returns-19">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Sorted table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-20" class="level4">
<h4 class="anchored" data-anchor-id="examples-20">Examples</h4>
<div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="st">"b"</span>: [<span class="st">"c"</span>, <span class="st">"b"</span>, <span class="st">"a"</span>], <span class="st">"c"</span>: [<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">5</span>]})</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┳━━━━━━━┓</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃ c     ┃</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━╇━━━━━━━┩</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │ int64 │</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>├───────┼────────┼───────┤</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │     <span class="dv">4</span> │</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │ b      │     <span class="dv">6</span> │</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │ a      │     <span class="dv">5</span> │</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>└───────┴────────┴───────┘</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.order_by(<span class="st">"b"</span>)</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┳━━━━━━━┓</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃ c     ┃</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━╇━━━━━━━┩</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │ int64 │</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>├───────┼────────┼───────┤</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │ a      │     <span class="dv">5</span> │</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │ b      │     <span class="dv">6</span> │</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │     <span class="dv">4</span> │</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>└───────┴────────┴───────┘</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.order_by(ibis.desc(<span class="st">"c"</span>))</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━┳━━━━━━━┓</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b      ┃ c     ┃</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━╇━━━━━━━┩</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>│ int64 │ string │ int64 │</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>├───────┼────────┼───────┤</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │ b      │     <span class="dv">6</span> │</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │ a      │     <span class="dv">5</span> │</span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │ c      │     <span class="dv">4</span> │</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>└───────┴────────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.pivot_longer" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.pivot_longer">pivot_longer</h3>
<p><code>expr.types.relations.Table.pivot_longer(self, col, *, names_to='name', names_pattern='(.+)', names_transform=None, values_to='value', values_transform=None)</code></p>
<p>Transform a table from wider to longer.</p>
<section id="parameters-19" class="level4">
<h4 class="anchored" data-anchor-id="parameters-19">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 45%">
<col style="width: 41%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>col</code></td>
<td>str | ibis.Selector</td>
<td>String column name or selector.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>names_to</code></td>
<td>str | typing.Iterable[str]</td>
<td>A string or iterable of strings indicating how to name the new pivoted columns.</td>
<td><code>'name'</code></td>
</tr>
<tr class="odd">
<td><code>names_pattern</code></td>
<td>str | re.Pattern</td>
<td>Pattern to use to extract column names from the input. By default the entire column name is extracted.</td>
<td><code>'(.+)'</code></td>
</tr>
<tr class="even">
<td><code>names_transform</code></td>
<td>typing.Callable[[str], ibis.Value] | typing.Mapping[str, typing.Callable[[str], ibis.Value]] | None</td>
<td>Function or mapping of a name in <code>names_to</code> to a function to transform a column name to a value.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>values_to</code></td>
<td>str</td>
<td>Name of the pivoted value column.</td>
<td><code>'value'</code></td>
</tr>
<tr class="even">
<td><code>values_transform</code></td>
<td>typing.Callable[[ibis.Value], ibis.Value] | ibis.expr.deferred.Deferred | None</td>
<td>Apply a function to the value column. This can be a lambda or deferred expression.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-20" class="level4">
<h4 class="anchored" data-anchor-id="returns-20">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Pivoted table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-21" class="level4">
<h4 class="anchored" data-anchor-id="examples-21">Examples</h4>
<p>Basic usage</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> relig_income <span class="op">=</span> ibis.examples.relig_income_raw.fetch()</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> relig_income</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━┳━━━┓</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>┃ religion                ┃ <span class="op">&lt;</span>$<span class="dv">10</span><span class="er">k</span> ┃ $<span class="dv">10</span><span class="op">-</span><span class="dv">20</span><span class="er">k</span> ┃ $<span class="dv">20</span><span class="op">-</span><span class="dv">30</span><span class="er">k</span> ┃ $<span class="dv">30</span><span class="op">-</span><span class="dv">40</span><span class="er">k</span> ┃ $<span class="dv">40</span><span class="op">-</span><span class="dv">50</span><span class="er">k</span> ┃ … ┃</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━╇━━━┩</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>│ string                  │ int64 │ int64   │ int64   │ int64   │ int64   │ … │</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>├─────────────────────────┼───────┼─────────┼─────────┼─────────┼─────────┼───┤</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>│ Agnostic                │    <span class="dv">27</span> │      <span class="dv">34</span> │      <span class="dv">60</span> │      <span class="dv">81</span> │      <span class="dv">76</span> │ … │</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>│ Atheist                 │    <span class="dv">12</span> │      <span class="dv">27</span> │      <span class="dv">37</span> │      <span class="dv">52</span> │      <span class="dv">35</span> │ … │</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>│ Buddhist                │    <span class="dv">27</span> │      <span class="dv">21</span> │      <span class="dv">30</span> │      <span class="dv">34</span> │      <span class="dv">33</span> │ … │</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>│ Catholic                │   <span class="dv">418</span> │     <span class="dv">617</span> │     <span class="dv">732</span> │     <span class="dv">670</span> │     <span class="dv">638</span> │ … │</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>│ Don’t know<span class="op">/</span>refused      │    <span class="dv">15</span> │      <span class="dv">14</span> │      <span class="dv">15</span> │      <span class="dv">11</span> │      <span class="dv">10</span> │ … │</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>│ Evangelical Prot        │   <span class="dv">575</span> │     <span class="dv">869</span> │    <span class="dv">1064</span> │     <span class="dv">982</span> │     <span class="dv">881</span> │ … │</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>│ Hindu                   │     <span class="dv">1</span> │       <span class="dv">9</span> │       <span class="dv">7</span> │       <span class="dv">9</span> │      <span class="dv">11</span> │ … │</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>│ Historically Black Prot │   <span class="dv">228</span> │     <span class="dv">244</span> │     <span class="dv">236</span> │     <span class="dv">238</span> │     <span class="dv">197</span> │ … │</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>│ Jehovah<span class="st">'s Witness       │    20 │      27 │      24 │      24 │      21 │ … │</span></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a><span class="er">│ Jewish                  │    19 │      19 │      25 │      25 │      30 │ … │</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>│ …                       │     … │       … │       … │       … │       … │ … │</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>└─────────────────────────┴───────┴─────────┴─────────┴─────────┴─────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here we convert column names not matching the selector for the <code>religion</code> column and convert those names into values</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> relig_income.pivot_longer(<span class="op">~</span>s.c(<span class="st">"religion"</span>), names_to<span class="op">=</span><span class="st">"income"</span>, values_to<span class="op">=</span><span class="st">"count"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━┓</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>┃ religion ┃ income             ┃ count ┃</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━┩</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>│ string   │ string             │ int64 │</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>├──────────┼────────────────────┼───────┤</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ <span class="op">&lt;</span>$<span class="dv">10</span><span class="er">k</span>              │    <span class="dv">27</span> │</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">10</span><span class="op">-</span><span class="dv">20</span><span class="er">k</span>            │    <span class="dv">34</span> │</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">20</span><span class="op">-</span><span class="dv">30</span><span class="er">k</span>            │    <span class="dv">60</span> │</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">30</span><span class="op">-</span><span class="dv">40</span><span class="er">k</span>            │    <span class="dv">81</span> │</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">40</span><span class="op">-</span><span class="dv">50</span><span class="er">k</span>            │    <span class="dv">76</span> │</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">50</span><span class="op">-</span><span class="dv">75</span><span class="er">k</span>            │   <span class="dv">137</span> │</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">75</span><span class="op">-</span><span class="dv">100</span><span class="er">k</span>           │   <span class="dv">122</span> │</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ $<span class="dv">100</span><span class="op">-</span><span class="dv">150</span><span class="er">k</span>          │   <span class="dv">109</span> │</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ <span class="op">&gt;</span><span class="dv">150</span><span class="er">k</span>              │    <span class="dv">84</span> │</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>│ Agnostic │ Don<span class="st">'t know/refused │    96 │</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="er">│ …        │ …                  │     … │</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>└──────────┴────────────────────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Similarly for a different example dataset, we convert names to values but using a different selector and the default <code>values_to</code> value.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> world_bank_pop <span class="op">=</span> ibis.examples.world_bank_pop_raw.fetch()</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> world_bank_pop.head()</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>┃ country ┃ indicator   ┃ <span class="dv">2000</span>         ┃ <span class="dv">2001</span>         ┃ <span class="dv">2002</span>         ┃ … ┃</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>│ string  │ string      │ float64      │ float64      │ float64      │ … │</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>├─────────┼─────────────┼──────────────┼──────────────┼──────────────┼───┤</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.TOTL │ <span class="fl">4.244400e+04</span> │ <span class="fl">4.304800e+04</span> │ <span class="fl">4.367000e+04</span> │ … │</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.GROW │ <span class="fl">1.182632e+00</span> │ <span class="fl">1.413021e+00</span> │ <span class="fl">1.434560e+00</span> │ … │</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.POP.TOTL │ <span class="fl">9.085300e+04</span> │ <span class="fl">9.289800e+04</span> │ <span class="fl">9.499200e+04</span> │ … │</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.POP.GROW │ <span class="fl">2.055027e+00</span> │ <span class="fl">2.225930e+00</span> │ <span class="fl">2.229056e+00</span> │ … │</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>│ AFG     │ SP.URB.TOTL │ <span class="fl">4.436299e+06</span> │ <span class="fl">4.648055e+06</span> │ <span class="fl">4.892951e+06</span> │ … │</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>└─────────┴─────────────┴──────────────┴──────────────┴──────────────┴───┘</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> world_bank_pop.pivot_longer(s.matches(<span class="vs">r"\d</span><span class="sc">{4}</span><span class="vs">"</span>), names_to<span class="op">=</span><span class="st">"year"</span>).head()</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━┓</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>┃ country ┃ indicator   ┃ year   ┃ value   ┃</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━┩</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>│ string  │ string      │ string │ float64 │</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>├─────────┼─────────────┼────────┼─────────┤</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.TOTL │ <span class="dv">2000</span>   │ <span class="fl">42444.0</span> │</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.TOTL │ <span class="dv">2001</span>   │ <span class="fl">43048.0</span> │</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.TOTL │ <span class="dv">2002</span>   │ <span class="fl">43670.0</span> │</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.TOTL │ <span class="dv">2003</span>   │ <span class="fl">44246.0</span> │</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>│ ABW     │ SP.URB.TOTL │ <span class="dv">2004</span>   │ <span class="fl">44669.0</span> │</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>└─────────┴─────────────┴────────┴─────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>pivot_longer</code> has some preprocessing capabiltiies like stripping a prefix and applying a function to column names</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> billboard <span class="op">=</span> ibis.examples.billboard.fetch()</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> billboard</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━┳━━━┓</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>┃ artist         ┃ track                   ┃ date_entered ┃ wk1   ┃ wk2   ┃ … ┃</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━╇━━━┩</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>│ string         │ string                  │ date         │ int64 │ int64 │ … │</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>├────────────────┼─────────────────────────┼──────────────┼───────┼───────┼───┤</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span> Pac          │ Baby Don<span class="st">'t Cry (Keep... │ 2000-02-26   │    87 │    82 │ … │</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="er">│ 2Ge+her        │ The Hardest Part Of ... │ 2000-09-02   │    91 │    87 │ … │</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">3</span> Doors Down   │ Kryptonite              │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">4</span><span class="op">-</span><span class="dv">0</span><span class="er">8</span>   │    <span class="dv">81</span> │    <span class="dv">70</span> │ … │</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">3</span> Doors Down   │ Loser                   │ <span class="dv">2000</span><span class="op">-</span><span class="dv">10</span><span class="op">-</span><span class="dv">21</span>   │    <span class="dv">76</span> │    <span class="dv">76</span> │ … │</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">504</span> Boyz       │ Wobble Wobble           │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">4</span><span class="op">-</span><span class="dv">15</span>   │    <span class="dv">57</span> │    <span class="dv">34</span> │ … │</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">98</span><span class="op">^</span><span class="dv">0</span>           │ Give Me Just One Nig... │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">8</span><span class="op">-</span><span class="dv">19</span>   │    <span class="dv">51</span> │    <span class="dv">39</span> │ … │</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>│ A<span class="op">*</span>Teens        │ Dancing Queen           │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">7</span><span class="op">-</span><span class="dv">0</span><span class="er">8</span>   │    <span class="dv">97</span> │    <span class="dv">97</span> │ … │</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>│ Aaliyah        │ I Don<span class="st">'t Wanna           │ 2000-01-29   │    84 │    62 │ … │</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="er">│ Aaliyah        │ Try Again               │ 2000-03-18   │    59 │    53 │ … │</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>│ Adams, Yolanda │ Open My Heart           │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">8</span><span class="op">-</span><span class="dv">26</span>   │    <span class="dv">76</span> │    <span class="dv">76</span> │ … │</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>│ …              │ …                       │ …            │     … │     … │ … │</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>└────────────────┴─────────────────────────┴──────────────┴───────┴───────┴───┘</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> billboard.pivot_longer(</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>...     s.startswith(<span class="st">"wk"</span>),</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>...     names_to<span class="op">=</span><span class="st">"week"</span>,</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>...     names_pattern<span class="op">=</span><span class="vs">r"wk(.+)"</span>,</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>...     names_transform<span class="op">=</span><span class="bu">int</span>,</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>...     values_to<span class="op">=</span><span class="st">"rank"</span>,</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>...     values_transform<span class="op">=</span>_.cast(<span class="st">"int"</span>),</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>... ).dropna(<span class="st">"rank"</span>)</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━┳━━━━━━━┓</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>┃ artist  ┃ track                   ┃ date_entered ┃ week ┃ rank  ┃</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━╇━━━━━━━┩</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>│ string  │ string                  │ date         │ int8 │ int64 │</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>├─────────┼─────────────────────────┼──────────────┼──────┼───────┤</span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span> Pac   │ Baby Don<span class="st">'t Cry (Keep... │ 2000-02-26   │    1 │    87 │</span></span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a><span class="er">│ 2 Pac   │ Baby Don't Cry (Keep... │ 2000-02-26   │    2 │    82 │</span></span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span> Pac   │ Baby Don<span class="st">'t Cry (Keep... │ 2000-02-26   │    3 │    72 │</span></span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a><span class="er">│ 2 Pac   │ Baby Don't Cry (Keep... │ 2000-02-26   │    4 │    77 │</span></span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span> Pac   │ Baby Don<span class="st">'t Cry (Keep... │ 2000-02-26   │    5 │    87 │</span></span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a><span class="er">│ 2 Pac   │ Baby Don't Cry (Keep... │ 2000-02-26   │    6 │    94 │</span></span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span> Pac   │ Baby Don<span class="st">'t Cry (Keep... │ 2000-02-26   │    7 │    99 │</span></span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a><span class="er">│ 2Ge+her │ The Hardest Part Of ... │ 2000-09-02   │    1 │    91 │</span></span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span><span class="er">Ge</span><span class="op">+</span>her │ The Hardest Part Of ... │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">9</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span>   │    <span class="dv">2</span> │    <span class="dv">87</span> │</span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">2</span><span class="er">Ge</span><span class="op">+</span>her │ The Hardest Part Of ... │ <span class="dv">2000</span><span class="op">-</span><span class="dv">0</span><span class="er">9</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span>   │    <span class="dv">3</span> │    <span class="dv">92</span> │</span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a>│ …       │ …                       │ …            │    … │     … │</span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a>└─────────┴─────────────────────────┴──────────────┴──────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can use regular expression capture groups to extract multiple variables stored in column names</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> who <span class="op">=</span> ibis.examples.who.fetch()</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> who</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>┃ country     ┃ iso2   ┃ iso3   ┃ year  ┃ new_sp_m014 ┃ new_sp_m1524 ┃ … ┃</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>│ string      │ string │ string │ int64 │ int64       │ int64        │ … │</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>├─────────────┼────────┼────────┼───────┼─────────────┼──────────────┼───┤</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │        NULL │         NULL │ … │</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1981</span> │        NULL │         NULL │ … │</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1982</span> │        NULL │         NULL │ … │</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1983</span> │        NULL │         NULL │ … │</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1984</span> │        NULL │         NULL │ … │</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1985</span> │        NULL │         NULL │ … │</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1986</span> │        NULL │         NULL │ … │</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1987</span> │        NULL │         NULL │ … │</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1988</span> │        NULL │         NULL │ … │</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1989</span> │        NULL │         NULL │ … │</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>│ …           │ …      │ …      │     … │           … │            … │ … │</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>└─────────────┴────────┴────────┴───────┴─────────────┴──────────────┴───┘</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">len</span>(who.columns)</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a><span class="dv">60</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> who.pivot_longer(</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>...     s.r[<span class="st">"new_sp_m014"</span>:<span class="st">"newrel_f65"</span>],</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>...     names_to<span class="op">=</span>[<span class="st">"diagnosis"</span>, <span class="st">"gender"</span>, <span class="st">"age"</span>],</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>...     names_pattern<span class="op">=</span><span class="st">"new_?(.*)_(.)(.*)"</span>,</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>...     values_to<span class="op">=</span><span class="st">"count"</span>,</span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━┳━━━━━━━┓</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>┃ country     ┃ iso2   ┃ iso3   ┃ year  ┃ diagnosis ┃ gender ┃ age    ┃ count ┃</span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━╇━━━━━━━┩</span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>│ string      │ string │ string │ int64 │ string    │ string │ string │ int64 │</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>├─────────────┼────────┼────────┼───────┼───────────┼────────┼────────┼───────┤</span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">0</span><span class="er">14</span>    │  NULL │</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">1524</span>   │  NULL │</span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">2534</span>   │  NULL │</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">3544</span>   │  NULL │</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">4554</span>   │  NULL │</span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">5564</span>   │  NULL │</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ m      │ <span class="dv">65</span>     │  NULL │</span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ f      │ <span class="dv">0</span><span class="er">14</span>    │  NULL │</span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ f      │ <span class="dv">1524</span>   │  NULL │</span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │ f      │ <span class="dv">2534</span>   │  NULL │</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>│ …           │ …      │ …      │     … │ …         │ …      │ …      │     … │</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>└─────────────┴────────┴────────┴───────┴───────────┴────────┴────────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>names_transform</code> is flexible, and can be:</p>
<pre><code>1. A mapping of one or more names in `names_to` to callable
2. A callable that will be applied to every name</code></pre>
<p>Let’s recode gender and age to numeric values using a mapping</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> who.pivot_longer(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>...     s.r[<span class="st">"new_sp_m014"</span>:<span class="st">"newrel_f65"</span>],</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>...     names_to<span class="op">=</span>[<span class="st">"diagnosis"</span>, <span class="st">"gender"</span>, <span class="st">"age"</span>],</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>...     names_pattern<span class="op">=</span><span class="st">"new_?(.*)_(.)(.*)"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>...     names_transform<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>...         gender<span class="op">=</span>{<span class="st">"m"</span>: <span class="dv">1</span>, <span class="st">"f"</span>: <span class="dv">2</span>}.get,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>...         age<span class="op">=</span><span class="bu">dict</span>(<span class="bu">zip</span>([<span class="st">"014"</span>, <span class="st">"1524"</span>, <span class="st">"2534"</span>, <span class="st">"3544"</span>, <span class="st">"4554"</span>, <span class="st">"5564"</span>, <span class="st">"65"</span>], <span class="bu">range</span>(<span class="dv">7</span>))).get,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>...     ),</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>...     values_to<span class="op">=</span><span class="st">"count"</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━┳━━━━━━┳━━━━━━━┓</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>┃ country     ┃ iso2   ┃ iso3   ┃ year  ┃ diagnosis ┃ gender ┃ age  ┃ count ┃</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━╇━━━━━━╇━━━━━━━┩</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>│ string      │ string │ string │ int64 │ string    │ int8   │ int8 │ int64 │</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>├─────────────┼────────┼────────┼───────┼───────────┼────────┼──────┼───────┤</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">0</span> │  NULL │</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">1</span> │  NULL │</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">2</span> │  NULL │</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">3</span> │  NULL │</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">4</span> │  NULL │</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">5</span> │  NULL │</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">1</span> │    <span class="dv">6</span> │  NULL │</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">2</span> │    <span class="dv">0</span> │  NULL │</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">2</span> │    <span class="dv">1</span> │  NULL │</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>│ Afghanistan │ AF     │ AFG    │  <span class="dv">1980</span> │ sp        │      <span class="dv">2</span> │    <span class="dv">2</span> │  NULL │</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>│ …           │ …      │ …      │     … │ …         │      … │    … │     … │</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>└─────────────┴────────┴────────┴───────┴───────────┴────────┴──────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The number of match groups in <code>names_pattern</code> must match the length of <code>names_to</code></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> who.pivot_longer(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>...     s.r[<span class="st">"new_sp_m014"</span>:<span class="st">"newrel_f65"</span>],</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>...     names_to<span class="op">=</span>[<span class="st">"diagnosis"</span>, <span class="st">"gender"</span>, <span class="st">"age"</span>],</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>...     names_pattern<span class="op">=</span><span class="st">"new_?(.*)_.(.*)"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>ibis.common.exceptions.IbisInputError: Number of match groups <span class="kw">in</span> `names_pattern` ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>names_transform</code> must be a mapping or callable</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> who.pivot_longer(s.r[<span class="st">"new_sp_m014"</span>:<span class="st">"newrel_f65"</span>], names_transform<span class="op">=</span><span class="st">"upper"</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>ibis.common.exceptions.IbisTypeError: ... Got <span class="op">&lt;</span><span class="kw">class</span> <span class="st">'str'</span><span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.pivot_wider" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.pivot_wider">pivot_wider</h3>
<p><code>expr.types.relations.Table.pivot_wider(self, *, id_cols=None, names_from='name', names_prefix='', names_sep='_', names_sort=False, names=None, values_from='value', values_fill=None, values_agg='arbitrary')</code></p>
<p>Pivot a table to a wider format.</p>
<section id="parameters-20" class="level4">
<h4 class="anchored" data-anchor-id="parameters-20">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 21%">
<col style="width: 71%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>id_cols</code></td>
<td>ibis.Selector | None</td>
<td>A set of columns that uniquely identify each observation.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>names_from</code></td>
<td>str | typing.Iterable[str] | ibis.Selector</td>
<td>An argument describing which column or columns to use to get the name of the output columns.</td>
<td><code>'name'</code></td>
</tr>
<tr class="odd">
<td><code>names_prefix</code></td>
<td>str</td>
<td>String added to the start of every column name.</td>
<td><code>''</code></td>
</tr>
<tr class="even">
<td><code>names_sep</code></td>
<td>str</td>
<td>If <code>names_from</code> or <code>values_from</code> contains multiple columns, this argument will be used to join their values together into a single string to use as a column name.</td>
<td><code>'_'</code></td>
</tr>
<tr class="odd">
<td><code>names_sort</code></td>
<td>bool</td>
<td>If [<code>True</code>][True] columns are sorted. If [<code>False</code>][False] column names are ordered by appearance.</td>
<td><code>False</code></td>
</tr>
<tr class="even">
<td><code>names</code></td>
<td>typing.Iterable[str] | None</td>
<td>An explicit sequence of values to look for in columns matching <code>names_from</code>. * When this value is <code>None</code>, the values will be computed from <code>names_from</code>. * When this value is not <code>None</code>, each element’s length must match the length of <code>names_from</code>. See examples below for more detail.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>values_from</code></td>
<td>str | typing.Iterable[str] | ibis.Selector</td>
<td>An argument describing which column or columns to get the cell values from.</td>
<td><code>'value'</code></td>
</tr>
<tr class="even">
<td><code>values_fill</code></td>
<td>int | float | str | ibis.Scalar | None</td>
<td>A scalar value that specifies what each value should be filled with when missing.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>values_agg</code></td>
<td>str | typing.Callable[[ibis.Value], ibis.Scalar] | ibis.expr.deferred.Deferred</td>
<td>A function applied to the value in each cell in the output.</td>
<td><code>'arbitrary'</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-21" class="level4">
<h4 class="anchored" data-anchor-id="returns-21">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Wider pivoted table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-22" class="level4">
<h4 class="anchored" data-anchor-id="examples-22">Examples</h4>
<div class="sourceCode" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Basic usage</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> fish_encounters <span class="op">=</span> ibis.examples.fish_encounters.fetch()</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> fish_encounters</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━┳━━━━━━━┓</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>┃ fish  ┃ station ┃ seen  ┃</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━╇━━━━━━━┩</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>│ int64 │ string  │ int64 │</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>├───────┼─────────┼───────┤</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ Release │     <span class="dv">1</span> │</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ I80_1   │     <span class="dv">1</span> │</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ Lisbon  │     <span class="dv">1</span> │</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ Rstr    │     <span class="dv">1</span> │</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ Base_TD │     <span class="dv">1</span> │</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ BCE     │     <span class="dv">1</span> │</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ BCW     │     <span class="dv">1</span> │</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ BCE2    │     <span class="dv">1</span> │</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ BCW2    │     <span class="dv">1</span> │</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │ MAE     │     <span class="dv">1</span> │</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>│     … │ …       │     … │</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>└───────┴─────────┴───────┘</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> fish_encounters.pivot_wider(names_from<span class="op">=</span><span class="st">"station"</span>, values_from<span class="op">=</span><span class="st">"seen"</span>)</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━┳━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━┳━━━━━━━┳━━━━━━━┳━━━┓</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>┃ fish  ┃ Release ┃ I80_1 ┃ Lisbon ┃ Rstr  ┃ Base_TD ┃ BCE   ┃ BCW   ┃ … ┃</span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━╇━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━╇━━━━━━━╇━━━━━━━╇━━━┩</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>│ int64 │ int64   │ int64 │ int64  │ int64 │ int64   │ int64 │ int64 │ … │</span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>├───────┼─────────┼───────┼────────┼───────┼─────────┼───────┼───────┼───┤</span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4843</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4844</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4845</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │  NULL │  NULL │ … │</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4847</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │  NULL │    NULL │  NULL │  NULL │ … │</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4848</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │    NULL │  NULL │  NULL │ … │</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4849</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │   NULL │  NULL │    NULL │  NULL │  NULL │ … │</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4850</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │   NULL │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4851</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │   NULL │  NULL │    NULL │  NULL │  NULL │ … │</span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4854</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │   NULL │  NULL │    NULL │  NULL │  NULL │ … │</span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a>│     … │       … │     … │      … │     … │       … │     … │     … │ … │</span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a>└───────┴─────────┴───────┴────────┴───────┴─────────┴───────┴───────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Fill missing pivoted values using <code>values_fill</code></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> fish_encounters.pivot_wider(names_from<span class="op">=</span><span class="st">"station"</span>, values_from<span class="op">=</span><span class="st">"seen"</span>, values_fill<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━┳━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━┳━━━━━━━┳━━━━━━━┳━━━┓</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>┃ fish  ┃ Release ┃ I80_1 ┃ Lisbon ┃ Rstr  ┃ Base_TD ┃ BCE   ┃ BCW   ┃ … ┃</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━╇━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━╇━━━━━━━╇━━━━━━━╇━━━┩</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>│ int64 │ int64   │ int64 │ int64  │ int64 │ int64   │ int64 │ int64 │ … │</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>├───────┼─────────┼───────┼────────┼───────┼─────────┼───────┼───────┼───┤</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4842</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4843</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4844</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4845</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">0</span> │     <span class="dv">0</span> │ … │</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4847</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">0</span> │       <span class="dv">0</span> │     <span class="dv">0</span> │     <span class="dv">0</span> │ … │</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4848</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">1</span> │     <span class="dv">1</span> │       <span class="dv">0</span> │     <span class="dv">0</span> │     <span class="dv">0</span> │ … │</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4849</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">0</span> │     <span class="dv">0</span> │       <span class="dv">0</span> │     <span class="dv">0</span> │     <span class="dv">0</span> │ … │</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4850</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">0</span> │     <span class="dv">1</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │     <span class="dv">1</span> │ … │</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4851</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">0</span> │     <span class="dv">0</span> │       <span class="dv">0</span> │     <span class="dv">0</span> │     <span class="dv">0</span> │ … │</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">4854</span> │       <span class="dv">1</span> │     <span class="dv">1</span> │      <span class="dv">0</span> │     <span class="dv">0</span> │       <span class="dv">0</span> │     <span class="dv">0</span> │     <span class="dv">0</span> │ … │</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>│     … │       … │     … │      … │     … │       … │     … │     … │ … │</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>└───────┴─────────┴───────┴────────┴───────┴─────────┴───────┴───────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Compute multiple values columns</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> us_rent_income <span class="op">=</span> ibis.examples.us_rent_income.fetch()</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> us_rent_income</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━┓</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>┃ geoid  ┃ name       ┃ variable ┃ estimate ┃ moe   ┃</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━┩</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>│ string │ string     │ string   │ int64    │ int64 │</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>├────────┼────────────┼──────────┼──────────┼───────┤</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">1</span>     │ Alabama    │ income   │    <span class="dv">24476</span> │   <span class="dv">136</span> │</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">1</span>     │ Alabama    │ rent     │      <span class="dv">747</span> │     <span class="dv">3</span> │</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">2</span>     │ Alaska     │ income   │    <span class="dv">32940</span> │   <span class="dv">508</span> │</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">2</span>     │ Alaska     │ rent     │     <span class="dv">1200</span> │    <span class="dv">13</span> │</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">4</span>     │ Arizona    │ income   │    <span class="dv">27517</span> │   <span class="dv">148</span> │</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">4</span>     │ Arizona    │ rent     │      <span class="dv">972</span> │     <span class="dv">4</span> │</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">5</span>     │ Arkansas   │ income   │    <span class="dv">23789</span> │   <span class="dv">165</span> │</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">5</span>     │ Arkansas   │ rent     │      <span class="dv">709</span> │     <span class="dv">5</span> │</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">6</span>     │ California │ income   │    <span class="dv">29454</span> │   <span class="dv">109</span> │</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">6</span>     │ California │ rent     │     <span class="dv">1358</span> │     <span class="dv">3</span> │</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>│ …      │ …          │ …        │        … │     … │</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>└────────┴────────────┴──────────┴──────────┴───────┘</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> us_rent_income.pivot_wider(names_from<span class="op">=</span><span class="st">"variable"</span>, values_from<span class="op">=</span>[<span class="st">"estimate"</span>, <span class="st">"moe"</span>])</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━┓</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>┃ geoid  ┃ name                 ┃ estimate_income ┃ moe_income ┃ … ┃</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━┩</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>│ string │ string               │ int64           │ int64      │ … │</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>├────────┼──────────────────────┼─────────────────┼────────────┼───┤</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">1</span>     │ Alabama              │           <span class="dv">24476</span> │        <span class="dv">136</span> │ … │</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">2</span>     │ Alaska               │           <span class="dv">32940</span> │        <span class="dv">508</span> │ … │</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">4</span>     │ Arizona              │           <span class="dv">27517</span> │        <span class="dv">148</span> │ … │</span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">5</span>     │ Arkansas             │           <span class="dv">23789</span> │        <span class="dv">165</span> │ … │</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">6</span>     │ California           │           <span class="dv">29454</span> │        <span class="dv">109</span> │ … │</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">8</span>     │ Colorado             │           <span class="dv">32401</span> │        <span class="dv">109</span> │ … │</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">9</span>     │ Connecticut          │           <span class="dv">35326</span> │        <span class="dv">195</span> │ … │</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">10</span>     │ Delaware             │           <span class="dv">31560</span> │        <span class="dv">247</span> │ … │</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">11</span>     │ District of Columbia │           <span class="dv">43198</span> │        <span class="dv">681</span> │ … │</span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">12</span>     │ Florida              │           <span class="dv">25952</span> │         <span class="dv">70</span> │ … │</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>│ …      │ …                    │               … │          … │ … │</span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>└────────┴──────────────────────┴─────────────────┴────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The column name separator can be changed using the <code>names_sep</code> parameter</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> us_rent_income.pivot_wider(</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>...     names_from<span class="op">=</span><span class="st">"variable"</span>,</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>...     names_sep<span class="op">=</span><span class="st">"."</span>,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>...     values_from<span class="op">=</span>s.c(<span class="st">"estimate"</span>, <span class="st">"moe"</span>),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━┓</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>┃ geoid  ┃ name                 ┃ estimate.income ┃ moe.income ┃ … ┃</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━┩</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>│ string │ string               │ int64           │ int64      │ … │</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>├────────┼──────────────────────┼─────────────────┼────────────┼───┤</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">1</span>     │ Alabama              │           <span class="dv">24476</span> │        <span class="dv">136</span> │ … │</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">2</span>     │ Alaska               │           <span class="dv">32940</span> │        <span class="dv">508</span> │ … │</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">4</span>     │ Arizona              │           <span class="dv">27517</span> │        <span class="dv">148</span> │ … │</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">5</span>     │ Arkansas             │           <span class="dv">23789</span> │        <span class="dv">165</span> │ … │</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">6</span>     │ California           │           <span class="dv">29454</span> │        <span class="dv">109</span> │ … │</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">8</span>     │ Colorado             │           <span class="dv">32401</span> │        <span class="dv">109</span> │ … │</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">0</span><span class="er">9</span>     │ Connecticut          │           <span class="dv">35326</span> │        <span class="dv">195</span> │ … │</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">10</span>     │ Delaware             │           <span class="dv">31560</span> │        <span class="dv">247</span> │ … │</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">11</span>     │ District of Columbia │           <span class="dv">43198</span> │        <span class="dv">681</span> │ … │</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>│ <span class="dv">12</span>     │ Florida              │           <span class="dv">25952</span> │         <span class="dv">70</span> │ … │</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>│ …      │ …                    │               … │          … │ … │</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>└────────┴──────────────────────┴─────────────────┴────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Supply an alternative function to summarize values</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> warpbreaks <span class="op">=</span> ibis.examples.warpbreaks.fetch().select(<span class="st">"wool"</span>, <span class="st">"tension"</span>, <span class="st">"breaks"</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> warpbreaks</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┓</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>┃ wool   ┃ tension ┃ breaks ┃</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━╇━━━━━━━━┩</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>│ string │ string  │ int64  │</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>├────────┼─────────┼────────┤</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">26</span> │</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">30</span> │</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">54</span> │</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">25</span> │</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">70</span> │</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">52</span> │</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">51</span> │</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">26</span> │</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>│ A      │ L       │     <span class="dv">67</span> │</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>│ A      │ M       │     <span class="dv">18</span> │</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>│ …      │ …       │      … │</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>└────────┴─────────┴────────┘</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> warpbreaks.pivot_wider(names_from<span class="op">=</span><span class="st">"wool"</span>, values_from<span class="op">=</span><span class="st">"breaks"</span>, values_agg<span class="op">=</span><span class="st">"mean"</span>)</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━┓</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>┃ tension ┃ A         ┃ B         ┃</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━┩</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>│ string  │ float64   │ float64   │</span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼───────────┤</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>│ L       │ <span class="fl">44.555556</span> │ <span class="fl">28.222222</span> │</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>│ M       │ <span class="fl">24.000000</span> │ <span class="fl">28.777778</span> │</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>│ H       │ <span class="fl">24.555556</span> │ <span class="fl">18.777778</span> │</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴───────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Passing <code>Deferred</code> objects to <code>values_agg</code> is supported</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> warpbreaks.pivot_wider(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>...     names_from<span class="op">=</span><span class="st">"tension"</span>,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>...     values_from<span class="op">=</span><span class="st">"breaks"</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>...     values_agg<span class="op">=</span>_.<span class="bu">sum</span>(),</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━┳━━━━━━━┳━━━━━━━┓</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>┃ wool   ┃ L     ┃ M     ┃ H     ┃</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━╇━━━━━━━╇━━━━━━━┩</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>│ string │ int64 │ int64 │ int64 │</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>├────────┼───────┼───────┼───────┤</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>│ A      │   <span class="dv">401</span> │   <span class="dv">216</span> │   <span class="dv">221</span> │</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>│ B      │   <span class="dv">254</span> │   <span class="dv">259</span> │   <span class="dv">169</span> │</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>└────────┴───────┴───────┴───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Use a custom aggregate function</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> warpbreaks.pivot_wider(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>...     names_from<span class="op">=</span><span class="st">"wool"</span>,</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>...     values_from<span class="op">=</span><span class="st">"breaks"</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>...     values_agg<span class="op">=</span><span class="kw">lambda</span> col: col.std() <span class="op">/</span> col.mean(),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>┃ tension ┃ A        ┃ B        ┃</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>│ string  │ float64  │ float64  │</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>├─────────┼──────────┼──────────┤</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>│ L       │ <span class="fl">0.406183</span> │ <span class="fl">0.349325</span> │</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>│ M       │ <span class="fl">0.360844</span> │ <span class="fl">0.327719</span> │</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>│ H       │ <span class="fl">0.418344</span> │ <span class="fl">0.260590</span> │</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>└─────────┴──────────┴──────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Generate some random data, setting the random seed for reproducibility</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> random</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> random.seed(<span class="dv">0</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> raw <span class="op">=</span> ibis.memtable(</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>...     [</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>...         <span class="bu">dict</span>(</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>...             product<span class="op">=</span>product,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>...             country<span class="op">=</span>country,</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>...             year<span class="op">=</span>year,</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>...             production<span class="op">=</span>random.random(),</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>...         )</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>...         <span class="cf">for</span> product <span class="kw">in</span> <span class="st">"AB"</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>...         <span class="cf">for</span> country <span class="kw">in</span> [<span class="st">"AI"</span>, <span class="st">"EI"</span>]</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>...         <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2000</span>, <span class="dv">2015</span>)</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>...     ]</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> production <span class="op">=</span> raw.<span class="bu">filter</span>(</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>...     ((_.product <span class="op">==</span> <span class="st">"A"</span>) <span class="op">&amp;</span> (_.country <span class="op">==</span> <span class="st">"AI"</span>)) <span class="op">|</span> (_.product <span class="op">==</span> <span class="st">"B"</span>)</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> production</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━┓</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>┃ product ┃ country ┃ year  ┃ production ┃</span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━┩</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>│ string  │ string  │ int64 │ float64    │</span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>├─────────┼─────────┼───────┼────────────┤</span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2000</span> │   <span class="fl">0.477010</span> │</span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2001</span> │   <span class="fl">0.865310</span> │</span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2002</span> │   <span class="fl">0.260492</span> │</span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2003</span> │   <span class="fl">0.805028</span> │</span>
<span id="cb58-29"><a href="#cb58-29" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2004</span> │   <span class="fl">0.548699</span> │</span>
<span id="cb58-30"><a href="#cb58-30" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2005</span> │   <span class="fl">0.014042</span> │</span>
<span id="cb58-31"><a href="#cb58-31" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2006</span> │   <span class="fl">0.719705</span> │</span>
<span id="cb58-32"><a href="#cb58-32" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2007</span> │   <span class="fl">0.398824</span> │</span>
<span id="cb58-33"><a href="#cb58-33" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2008</span> │   <span class="fl">0.824845</span> │</span>
<span id="cb58-34"><a href="#cb58-34" aria-hidden="true" tabindex="-1"></a>│ B       │ AI      │  <span class="dv">2009</span> │   <span class="fl">0.668153</span> │</span>
<span id="cb58-35"><a href="#cb58-35" aria-hidden="true" tabindex="-1"></a>│ …       │ …       │     … │          … │</span>
<span id="cb58-36"><a href="#cb58-36" aria-hidden="true" tabindex="-1"></a>└─────────┴─────────┴───────┴────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Pivoting with multiple name columns</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> production.pivot_wider(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>...     names_from<span class="op">=</span>[<span class="st">"product"</span>, <span class="st">"country"</span>],</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>...     values_from<span class="op">=</span><span class="st">"production"</span>,</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>┃ year  ┃ B_AI     ┃ B_EI     ┃ A_AI     ┃</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>│ int64 │ float64  │ float64  │ float64  │</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>├───────┼──────────┼──────────┼──────────┤</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2000</span> │ <span class="fl">0.477010</span> │ <span class="fl">0.870471</span> │ <span class="fl">0.844422</span> │</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2001</span> │ <span class="fl">0.865310</span> │ <span class="fl">0.191067</span> │ <span class="fl">0.757954</span> │</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2002</span> │ <span class="fl">0.260492</span> │ <span class="fl">0.567511</span> │ <span class="fl">0.420572</span> │</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2003</span> │ <span class="fl">0.805028</span> │ <span class="fl">0.238616</span> │ <span class="fl">0.258917</span> │</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2004</span> │ <span class="fl">0.548699</span> │ <span class="fl">0.967540</span> │ <span class="fl">0.511275</span> │</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2005</span> │ <span class="fl">0.014042</span> │ <span class="fl">0.803179</span> │ <span class="fl">0.404934</span> │</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2006</span> │ <span class="fl">0.719705</span> │ <span class="fl">0.447970</span> │ <span class="fl">0.783799</span> │</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2007</span> │ <span class="fl">0.398824</span> │ <span class="fl">0.080446</span> │ <span class="fl">0.303313</span> │</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2008</span> │ <span class="fl">0.824845</span> │ <span class="fl">0.320055</span> │ <span class="fl">0.476597</span> │</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2009</span> │ <span class="fl">0.668153</span> │ <span class="fl">0.507941</span> │ <span class="fl">0.583382</span> │</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>│     … │        … │        … │        … │</span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>└───────┴──────────┴──────────┴──────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Select a subset of names. This call incurs no computation when constructing the expression.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> production.pivot_wider(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>...     names_from<span class="op">=</span>[<span class="st">"product"</span>, <span class="st">"country"</span>],</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>...     names<span class="op">=</span>[(<span class="st">"A"</span>, <span class="st">"AI"</span>), (<span class="st">"B"</span>, <span class="st">"AI"</span>)],</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>...     values_from<span class="op">=</span><span class="st">"production"</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>┃ year  ┃ A_AI     ┃ B_AI     ┃</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>│ int64 │ float64  │ float64  │</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>├───────┼──────────┼──────────┤</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2000</span> │ <span class="fl">0.844422</span> │ <span class="fl">0.477010</span> │</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2001</span> │ <span class="fl">0.757954</span> │ <span class="fl">0.865310</span> │</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2002</span> │ <span class="fl">0.420572</span> │ <span class="fl">0.260492</span> │</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2003</span> │ <span class="fl">0.258917</span> │ <span class="fl">0.805028</span> │</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2004</span> │ <span class="fl">0.511275</span> │ <span class="fl">0.548699</span> │</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2005</span> │ <span class="fl">0.404934</span> │ <span class="fl">0.014042</span> │</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2006</span> │ <span class="fl">0.783799</span> │ <span class="fl">0.719705</span> │</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2007</span> │ <span class="fl">0.303313</span> │ <span class="fl">0.398824</span> │</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2008</span> │ <span class="fl">0.476597</span> │ <span class="fl">0.824845</span> │</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2009</span> │ <span class="fl">0.583382</span> │ <span class="fl">0.668153</span> │</span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>│     … │        … │        … │</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>└───────┴──────────┴──────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Sort the new columns’ names</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> production.pivot_wider(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>...     names_from<span class="op">=</span>[<span class="st">"product"</span>, <span class="st">"country"</span>],</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>...     values_from<span class="op">=</span><span class="st">"production"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>...     names_sort<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>┃ year  ┃ A_AI     ┃ B_AI     ┃ B_EI     ┃</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>│ int64 │ float64  │ float64  │ float64  │</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>├───────┼──────────┼──────────┼──────────┤</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2000</span> │ <span class="fl">0.844422</span> │ <span class="fl">0.477010</span> │ <span class="fl">0.870471</span> │</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2001</span> │ <span class="fl">0.757954</span> │ <span class="fl">0.865310</span> │ <span class="fl">0.191067</span> │</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2002</span> │ <span class="fl">0.420572</span> │ <span class="fl">0.260492</span> │ <span class="fl">0.567511</span> │</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2003</span> │ <span class="fl">0.258917</span> │ <span class="fl">0.805028</span> │ <span class="fl">0.238616</span> │</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2004</span> │ <span class="fl">0.511275</span> │ <span class="fl">0.548699</span> │ <span class="fl">0.967540</span> │</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2005</span> │ <span class="fl">0.404934</span> │ <span class="fl">0.014042</span> │ <span class="fl">0.803179</span> │</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2006</span> │ <span class="fl">0.783799</span> │ <span class="fl">0.719705</span> │ <span class="fl">0.447970</span> │</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2007</span> │ <span class="fl">0.303313</span> │ <span class="fl">0.398824</span> │ <span class="fl">0.080446</span> │</span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2008</span> │ <span class="fl">0.476597</span> │ <span class="fl">0.824845</span> │ <span class="fl">0.320055</span> │</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>│  <span class="dv">2009</span> │ <span class="fl">0.583382</span> │ <span class="fl">0.668153</span> │ <span class="fl">0.507941</span> │</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>│     … │        … │        … │        … │</span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>└───────┴──────────┴──────────┴──────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.relabel" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.relabel">relabel</h3>
<p><code>expr.types.relations.Table.relabel(self, substitutions)</code></p>
<p>Rename columns in the table.</p>
<section id="parameters-21" class="level4">
<h4 class="anchored" data-anchor-id="parameters-21">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 3%">
<col style="width: 21%">
<col style="width: 72%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>substitutions</code></td>
<td>typing.Mapping[str, str] | typing.Callable[[str], str | None] | str | typing.Literal[‘snake_case’, ‘ALL_CAPS’]</td>
<td>A mapping, function, or format string mapping old to new column names. If a column isn’t in the mapping (or if the callable returns None) it is left with its original name. May also pass a format string to rename all columns, like <code>"prefix_{name}"</code>. Also accepts the literal string <code>"snake_case"</code> or <code>"ALL_CAPS"</code> which will relabel all columns to use a <code>snake_case</code> or <code>"ALL_CAPS"</code> naming convention.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-22" class="level4">
<h4 class="anchored" data-anchor-id="returns-22">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>A relabeled table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-23" class="level4">
<h4 class="anchored" data-anchor-id="examples-23">Examples</h4>
<div class="sourceCode" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> first3 <span class="op">=</span> s.r[:<span class="dv">3</span>]  <span class="co"># first 3 columns</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins_raw_raw.fetch().select(first3)</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>┃ studyName ┃ Sample Number ┃ Species                             ┃</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>│ string    │ int64         │ string                              │</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────────┼─────────────────────────────────────┤</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">1</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">2</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">3</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">4</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">5</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">6</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">7</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">8</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">9</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │            <span class="dv">10</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>│ …         │             … │ …                                   │</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────────┴─────────────────────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Relabel column names using a mapping from old name to new name</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.relabel({<span class="st">"studyName"</span>: <span class="st">"study_name"</span>}).head(<span class="dv">1</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>┃ study_name ┃ Sample Number ┃ Species                             ┃</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>│ string     │ int64         │ string                              │</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>├────────────┼───────────────┼─────────────────────────────────────┤</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>│ PAL0708    │             <span class="dv">1</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>└────────────┴───────────────┴─────────────────────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Relabel column names using a snake_case convention</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.relabel(<span class="st">"snake_case"</span>).head(<span class="dv">1</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>┃ study_name ┃ sample_number ┃ species                             ┃</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>│ string     │ int64         │ string                              │</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>├────────────┼───────────────┼─────────────────────────────────────┤</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>│ PAL0708    │             <span class="dv">1</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>└────────────┴───────────────┴─────────────────────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Relabel column names using a ALL_CAPS convention</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.relabel(<span class="st">"ALL_CAPS"</span>).head(<span class="dv">1</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>┃ STUDY_NAME ┃ SAMPLE_NUMBER ┃ SPECIES                             ┃</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>│ string     │ int64         │ string                              │</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>├────────────┼───────────────┼─────────────────────────────────────┤</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>│ PAL0708    │             <span class="dv">1</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>└────────────┴───────────────┴─────────────────────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Relabel columns using a format string</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.relabel(<span class="st">"p_</span><span class="sc">{name}</span><span class="st">"</span>).head(<span class="dv">1</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>┃ p_studyName ┃ p_Sample Number ┃ p_Species                           ┃</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>│ string      │ int64           │ string                              │</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>├─────────────┼─────────────────┼─────────────────────────────────────┤</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>│ PAL0708     │               <span class="dv">1</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>└─────────────┴─────────────────┴─────────────────────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Relabel column names using a callable</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.relabel(<span class="bu">str</span>.upper).head(<span class="dv">1</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>┃ STUDYNAME ┃ SAMPLE NUMBER ┃ SPECIES                             ┃</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>│ string    │ int64         │ string                              │</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────────┼─────────────────────────────────────┤</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>│ PAL0708   │             <span class="dv">1</span> │ Adelie Penguin (Pygoscelis adeliae) │</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────────┴─────────────────────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.rowid" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.rowid">rowid</h3>
<p><code>expr.types.relations.Table.rowid(self)</code></p>
<p>A unique integer per row.</p>
<p>!!! note “This operation is only valid on physical tables”</p>
<pre><code>Any further meaning behind this expression is backend dependent.
Generally this corresponds to some index into the database storage
(for example, sqlite or duckdb's `rowid`).</code></pre>
<p>For a monotonically increasing row number, see <code>ibis.row_number</code>.</p>
<section id="returns-23" class="level4">
<h4 class="anchored" data-anchor-id="returns-23">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>IntegerColumn</td>
<td>An integer column</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.Table.schema" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.schema">schema</h3>
<p><code>expr.types.relations.Table.schema(self)</code></p>
<p>Return the schema for this table.</p>
<section id="returns-24" class="level4">
<h4 class="anchored" data-anchor-id="returns-24">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Schema</td>
<td>The table’s schema.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-24" class="level4">
<h4 class="anchored" data-anchor-id="examples-24">Examples</h4>
<div class="sourceCode" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.schema()</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>ibis.Schema {</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  species            string</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  island             string</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  bill_length_mm     float64</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>  bill_depth_mm      float64</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  flipper_length_mm  int64</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  body_mass_g        int64</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  sex                string</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>  year               int64</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.select" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.select">select</h3>
<p><code>expr.types.relations.Table.select(self, *exprs, **named_exprs)</code></p>
<p>Compute a new table expression using <code>exprs</code> and <code>named_exprs</code>.</p>
<p>Passing an aggregate function to this method will broadcast the aggregate’s value over the number of rows in the table and automatically constructs a window function expression. See the examples section for more details.</p>
<p>For backwards compatibility the keyword argument <code>exprs</code> is reserved and cannot be used to name an expression. This behavior will be removed in v4.</p>
<section id="parameters-22" class="level4">
<h4 class="anchored" data-anchor-id="parameters-22">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 37%">
<col style="width: 45%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>exprs</code></td>
<td>ibis.Value | str | typing.Iterable[ibis.Value | str]</td>
<td>Column expression, string, or list of column expressions and strings.</td>
<td><code>()</code></td>
</tr>
<tr class="even">
<td><code>named_exprs</code></td>
<td>ibis.Value | str</td>
<td>Column expressions</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-25" class="level4">
<h4 class="anchored" data-anchor-id="returns-25">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-25" class="level4">
<h4 class="anchored" data-anchor-id="examples-25">Examples</h4>
<div class="sourceCode" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━┓</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>┃ species ┃ island    ┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ … ┃</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━┩</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>│ string  │ string    │ float64        │ float64       │ int64             │ … │</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼───┤</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │ … │</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │            nan │           nan │              NULL │ … │</span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.3</span> │          <span class="fl">20.6</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">38.9</span> │          <span class="fl">17.8</span> │               <span class="dv">181</span> │ … │</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">39.2</span> │          <span class="fl">19.6</span> │               <span class="dv">195</span> │ … │</span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">34.1</span> │          <span class="fl">18.1</span> │               <span class="dv">193</span> │ … │</span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>│ Adelie  │ Torgersen │           <span class="fl">42.0</span> │          <span class="fl">20.2</span> │               <span class="dv">190</span> │ … │</span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>│ …       │ …         │              … │             … │                 … │ … │</span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴───┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Simple projection</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(<span class="st">"island"</span>, <span class="st">"bill_length_mm"</span>).head()</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>┃ island    ┃ bill_length_mm ┃</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>│ string    │ float64        │</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>├───────────┼────────────────┤</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">39.1</span> │</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">39.5</span> │</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">40.3</span> │</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>│ Torgersen │            nan │</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>│ Torgersen │           <span class="fl">36.7</span> │</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>└───────────┴────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Projection by zero-indexed column position</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(<span class="dv">0</span>, <span class="dv">4</span>).head()</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>┃ species ┃ flipper_length_mm ┃</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>│ string  │ int64             │</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>├─────────┼───────────────────┤</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>│ Adelie  │               <span class="dv">181</span> │</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>│ Adelie  │               <span class="dv">186</span> │</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>│ Adelie  │               <span class="dv">195</span> │</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>│ Adelie  │              NULL │</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>│ Adelie  │               <span class="dv">193</span> │</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>└─────────┴───────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Projection with renaming and compute in one call</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(next_year<span class="op">=</span>t.year <span class="op">+</span> <span class="dv">1</span>).head()</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┓</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>┃ next_year ┃</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━┩</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>│ int64     │</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>├───────────┤</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">2008</span> │</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">2008</span> │</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">2008</span> │</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">2008</span> │</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>│      <span class="dv">2008</span> │</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>└───────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Projection with aggregation expressions</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(<span class="st">"island"</span>, bill_mean<span class="op">=</span>t.bill_length_mm.mean()).head()</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━┓</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>┃ island    ┃ bill_mean ┃</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━┩</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>│ string    │ float64   │</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>├───────────┼───────────┤</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>│ Torgersen │  <span class="fl">43.92193</span> │</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>│ Torgersen │  <span class="fl">43.92193</span> │</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>│ Torgersen │  <span class="fl">43.92193</span> │</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>│ Torgersen │  <span class="fl">43.92193</span> │</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>│ Torgersen │  <span class="fl">43.92193</span> │</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>└───────────┴───────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Projection with a selector</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.selectors <span class="im">as</span> s</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(s.numeric() <span class="op">&amp;</span> <span class="op">~</span>s.c(<span class="st">"year"</span>)).head()</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ body_mass_g ┃</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>│ float64        │ float64       │ int64             │ int64       │</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>├────────────────┼───────────────┼───────────────────┼─────────────┤</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>│           <span class="fl">39.1</span> │          <span class="fl">18.7</span> │               <span class="dv">181</span> │        <span class="dv">3750</span> │</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>│           <span class="fl">39.5</span> │          <span class="fl">17.4</span> │               <span class="dv">186</span> │        <span class="dv">3800</span> │</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>│           <span class="fl">40.3</span> │          <span class="fl">18.0</span> │               <span class="dv">195</span> │        <span class="dv">3250</span> │</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>│            nan │           nan │              NULL │        NULL │</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>│           <span class="fl">36.7</span> │          <span class="fl">19.3</span> │               <span class="dv">193</span> │        <span class="dv">3450</span> │</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>└────────────────┴───────────────┴───────────────────┴─────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Projection + aggregation across multiple columns</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(s.across(s.numeric() <span class="op">&amp;</span> <span class="op">~</span>s.c(<span class="st">"year"</span>), _.mean())).head()</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>┃ bill_length_mm ┃ bill_depth_mm ┃ flipper_length_mm ┃ body_mass_g ┃</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>│ float64        │ float64       │ float64           │ float64     │</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>├────────────────┼───────────────┼───────────────────┼─────────────┤</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>│       <span class="fl">43.92193</span> │      <span class="fl">17.15117</span> │        <span class="fl">200.915205</span> │ <span class="fl">4201.754386</span> │</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>│       <span class="fl">43.92193</span> │      <span class="fl">17.15117</span> │        <span class="fl">200.915205</span> │ <span class="fl">4201.754386</span> │</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>│       <span class="fl">43.92193</span> │      <span class="fl">17.15117</span> │        <span class="fl">200.915205</span> │ <span class="fl">4201.754386</span> │</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>│       <span class="fl">43.92193</span> │      <span class="fl">17.15117</span> │        <span class="fl">200.915205</span> │ <span class="fl">4201.754386</span> │</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>│       <span class="fl">43.92193</span> │      <span class="fl">17.15117</span> │        <span class="fl">200.915205</span> │ <span class="fl">4201.754386</span> │</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>└────────────────┴───────────────┴───────────────────┴─────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.sql" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.sql">sql</h3>
<p><code>expr.types.relations.Table.sql(self, query, dialect=None)</code></p>
<p>Run a SQL query against a table expression.</p>
<p>See [<code>Table.alias</code>][ibis.expr.types.relations.Table.alias] for details on using named table expressions in a SQL string.</p>
<section id="parameters-23" class="level4">
<h4 class="anchored" data-anchor-id="parameters-23">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 76%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>query</code></td>
<td>str</td>
<td>Query string</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>dialect</code></td>
<td>str | None</td>
<td>Optional string indicating the dialect of <code>query</code>. The default value of <code>None</code> will use the backend’s native dialect.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-26" class="level4">
<h4 class="anchored" data-anchor-id="returns-26">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>An opaque table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-26" class="level4">
<h4 class="anchored" data-anchor-id="examples-26">Examples</h4>
<div class="sourceCode" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch(table_name<span class="op">=</span><span class="st">"penguins"</span>)</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.sql(<span class="st">"SELECT island, mean(bill_length_mm) FROM penguins GROUP BY 1 ORDER BY 2 DESC"</span>)</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>┃ island    ┃ mean(bill_length_mm) ┃</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>│ string    │ float64              │</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>├───────────┼──────────────────────┤</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>│ Biscoe    │            <span class="fl">45.257485</span> │</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>│ Dream     │            <span class="fl">44.167742</span> │</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>│ Torgersen │            <span class="fl">38.950980</span> │</span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>└───────────┴──────────────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.to_array" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.to_array">to_array</h3>
<p><code>expr.types.relations.Table.to_array(self)</code></p>
<p>View a single column table as an array.</p>
<section id="returns-27" class="level4">
<h4 class="anchored" data-anchor-id="returns-27">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Value</td>
<td>A single column view of a table</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.Table.to_pandas" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.to_pandas">to_pandas</h3>
<p><code>expr.types.relations.Table.to_pandas(self, **kwargs)</code></p>
<p>Convert a table expression to a pandas DataFrame.</p>
<section id="parameters-24" class="level4">
<h4 class="anchored" data-anchor-id="parameters-24">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 72%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>kwargs</code></td>
<td></td>
<td>Same as keyword arguments to [<code>execute</code>][ibis.expr.types.core.Expr.execute]</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.Table.try_cast" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.try_cast">try_cast</h3>
<p><code>expr.types.relations.Table.try_cast(self, schema)</code></p>
<p>Cast the columns of a table.</p>
<p>If the cast fails for a row, the value is returned as <code>NULL</code> or <code>NaN</code> depending on backend behavior.</p>
<section id="parameters-25" class="level4">
<h4 class="anchored" data-anchor-id="parameters-25">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 10%">
<col style="width: 16%">
<col style="width: 60%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>schema</code></td>
<td>SupportsSchema</td>
<td>Mapping, schema or iterable of pairs to use for casting</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-28" class="level4">
<h4 class="anchored" data-anchor-id="returns-28">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Casted table</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-27" class="level4">
<h4 class="anchored" data-anchor-id="examples-27">Examples</h4>
<div class="sourceCode" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>], <span class="st">"b"</span>: [<span class="st">"2.2"</span>, <span class="st">"3.3"</span>, <span class="st">"book"</span>]})</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.try_cast({<span class="st">"a"</span>: <span class="st">"int"</span>, <span class="st">"b"</span>: <span class="st">"float"</span>})</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┳━━━━━━━━━┓</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃ b       ┃</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━╇━━━━━━━━━┩</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>│ int64 │ float64 │</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>├───────┼─────────┤</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │     <span class="fl">2.2</span> │</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │     <span class="fl">3.3</span> │</span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │     nan │</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>└───────┴─────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.union" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.union">union</h3>
<p><code>expr.types.relations.Table.union(self, table, *rest, distinct=False)</code></p>
<p>Compute the set union of multiple table expressions.</p>
<p>The input tables must have identical schemas.</p>
<section id="parameters-26" class="level4">
<h4 class="anchored" data-anchor-id="parameters-26">Parameters</h4>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>table</code></td>
<td>Table</td>
<td>A table expression</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>*rest</code></td>
<td>Table</td>
<td>Additional table expressions</td>
<td><code>()</code></td>
</tr>
<tr class="odd">
<td><code>distinct</code></td>
<td>bool</td>
<td>Only return distinct rows</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-29" class="level4">
<h4 class="anchored" data-anchor-id="returns-29">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>A new table containing the union of all input tables.</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-4" class="level4">
<h4 class="anchored" data-anchor-id="see-also-4">See Also</h4>
<p>[<code>ibis.union</code>][ibis.union]</p>
</section>
<section id="examples-28" class="level4">
<h4 class="anchored" data-anchor-id="examples-28">Examples</h4>
<div class="sourceCode" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1 <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>]})</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2 <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">2</span>, <span class="dv">3</span>]})</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │</span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1.union(t2)  <span class="co"># union all by default</span></span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │</span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb79-31"><a href="#cb79-31" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb79-32"><a href="#cb79-32" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │</span>
<span id="cb79-33"><a href="#cb79-33" aria-hidden="true" tabindex="-1"></a>└───────┘</span>
<span id="cb79-34"><a href="#cb79-34" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t1.union(t2, distinct<span class="op">=</span><span class="va">True</span>).order_by(<span class="st">"a"</span>)</span>
<span id="cb79-35"><a href="#cb79-35" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━┓</span>
<span id="cb79-36"><a href="#cb79-36" aria-hidden="true" tabindex="-1"></a>┃ a     ┃</span>
<span id="cb79-37"><a href="#cb79-37" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━┩</span>
<span id="cb79-38"><a href="#cb79-38" aria-hidden="true" tabindex="-1"></a>│ int64 │</span>
<span id="cb79-39"><a href="#cb79-39" aria-hidden="true" tabindex="-1"></a>├───────┤</span>
<span id="cb79-40"><a href="#cb79-40" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">1</span> │</span>
<span id="cb79-41"><a href="#cb79-41" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">2</span> │</span>
<span id="cb79-42"><a href="#cb79-42" aria-hidden="true" tabindex="-1"></a>│     <span class="dv">3</span> │</span>
<span id="cb79-43"><a href="#cb79-43" aria-hidden="true" tabindex="-1"></a>└───────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ibis.expr.types.relations.Table.unpack" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.unpack">unpack</h3>
<p><code>expr.types.relations.Table.unpack(self, *columns)</code></p>
<p>Project the struct fields of each of <code>columns</code> into <code>self</code>.</p>
<p>Existing fields are retained in the projection.</p>
<section id="parameters-27" class="level4">
<h4 class="anchored" data-anchor-id="parameters-27">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 60%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>columns</code></td>
<td>str</td>
<td>String column names to project into <code>self</code>.</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-30" class="level4">
<h4 class="anchored" data-anchor-id="returns-30">Returns</h4>
<table class="table">
<colgroup>
<col style="width: 10%">
<col style="width: 89%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>The child table with struct fields of each of <code>columns</code> projected.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-29" class="level4">
<h4 class="anchored" data-anchor-id="examples-29">Examples</h4>
<div class="sourceCode" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lines <span class="op">=</span> <span class="st">'''</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="st">...     {"name": "a", "pos": {"lat": 10.1, "lon": 30.3</span><span class="sc">}}</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="st">...     {"name": "b", "pos": {"lat": 10.2, "lon": 30.2</span><span class="sc">}}</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="st">...     {"name": "c", "pos": {"lat": 10.3, "lon": 30.1</span><span class="sc">}}</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="st">... '''</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">with</span> <span class="bu">open</span>(<span class="st">"/tmp/lines.json"</span>, <span class="st">"w"</span>) <span class="im">as</span> f:</span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>...     _ <span class="op">=</span> f.write(lines)</span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.read_json(<span class="st">"/tmp/lines.json"</span>)</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>┃ name   ┃ pos                                ┃</span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>│ string │ struct<span class="op">&lt;</span>lat: float64, lon: float64<span class="op">&gt;</span> │</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>├────────┼────────────────────────────────────┤</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>│ a      │ {<span class="st">'lat'</span>: <span class="fl">10.1</span>, <span class="st">'lon'</span>: <span class="fl">30.3</span>}         │</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>│ b      │ {<span class="st">'lat'</span>: <span class="fl">10.2</span>, <span class="st">'lon'</span>: <span class="fl">30.2</span>}         │</span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>│ c      │ {<span class="st">'lat'</span>: <span class="fl">10.3</span>, <span class="st">'lon'</span>: <span class="fl">30.1</span>}         │</span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a>└────────┴────────────────────────────────────┘</span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.unpack(<span class="st">"pos"</span>)</span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a>┏━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━┓</span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a>┃ name   ┃ lat     ┃ lon     ┃</span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a>┡━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━┩</span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a>│ string │ float64 │ float64 │</span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a>├────────┼─────────┼─────────┤</span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a>│ a      │    <span class="fl">10.1</span> │    <span class="fl">30.3</span> │</span>
<span id="cb80-28"><a href="#cb80-28" aria-hidden="true" tabindex="-1"></a>│ b      │    <span class="fl">10.2</span> │    <span class="fl">30.2</span> │</span>
<span id="cb80-29"><a href="#cb80-29" aria-hidden="true" tabindex="-1"></a>│ c      │    <span class="fl">10.3</span> │    <span class="fl">30.1</span> │</span>
<span id="cb80-30"><a href="#cb80-30" aria-hidden="true" tabindex="-1"></a>└────────┴─────────┴─────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="see-also-5" class="level4">
<h4 class="anchored" data-anchor-id="see-also-5">See Also</h4>
<p>[<code>StructValue.lift</code>][ibis.expr.types.structs.StructValue.lift]</p>
</section>
</section>
<section id="ibis.expr.types.relations.Table.view" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.Table.view">view</h3>
<p><code>expr.types.relations.Table.view(self)</code></p>
<p>Create a new table expression distinct from the current one.</p>
<p>Use this API for any self-referencing operations like a self-join.</p>
<section id="returns-31" class="level4">
<h4 class="anchored" data-anchor-id="returns-31">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table expression</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
<section id="ibis.expr.types.relations.GroupedTable" class="level1">
<h1>GroupedTable</h1>
<p><code>expr.types.relations.GroupedTable(self, table, by, having=None, order_by=None, window=None, **expressions)</code></p>
<p>An intermediate table expression to hold grouping information.</p>
<section id="methods-1" class="level2">
<h2 class="anchored" data-anchor-id="methods-1">Methods</h2>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.GroupedTable.aggregate">aggregate</a></td>
<td>Compute aggregates over a group by.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.GroupedTable.count">count</a></td>
<td>Computing the number of rows per group.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.GroupedTable.having">having</a></td>
<td>Add a post-aggregation result filter <code>expr</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.GroupedTable.mutate">mutate</a></td>
<td>Return a table projection with window functions applied.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.GroupedTable.order_by">order_by</a></td>
<td>Sort a grouped table expression by <code>expr</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.relations.GroupedTable.over">over</a></td>
<td>Apply a window over the input expressions.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.relations.GroupedTable.select">select</a></td>
<td>Project new columns out of the grouped table.</td>
</tr>
</tbody>
</table>
<section id="ibis.expr.types.relations.GroupedTable.aggregate" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.aggregate">aggregate</h3>
<p><code>expr.types.relations.GroupedTable.aggregate(self, metrics=None, **kwds)</code></p>
<p>Compute aggregates over a group by.</p>
</section>
<section id="ibis.expr.types.relations.GroupedTable.count" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.count">count</h3>
<p><code>expr.types.relations.GroupedTable.count(self)</code></p>
<p>Computing the number of rows per group.</p>
<section id="returns-32" class="level4">
<h4 class="anchored" data-anchor-id="returns-32">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>The aggregated table</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.GroupedTable.having" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.having">having</h3>
<p><code>expr.types.relations.GroupedTable.having(self, expr)</code></p>
<p>Add a post-aggregation result filter <code>expr</code>.</p>
<p>!!! warning “Expressions like <code>x is None</code> return <code>bool</code> and <strong>will not</strong> generate a SQL comparison to <code>NULL</code>”</p>
<section id="parameters-28" class="level4">
<h4 class="anchored" data-anchor-id="parameters-28">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 20%">
<col style="width: 58%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>expr</code></td>
<td>ibis.BooleanScalar</td>
<td>An expression that filters based on an aggregate value.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-33" class="level4">
<h4 class="anchored" data-anchor-id="returns-33">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GroupedTable</td>
<td>A grouped table expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.GroupedTable.mutate" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.mutate">mutate</h3>
<p><code>expr.types.relations.GroupedTable.mutate(self, *exprs, **kwexprs)</code></p>
<p>Return a table projection with window functions applied.</p>
<p>Any arguments can be functions.</p>
<section id="parameters-29" class="level4">
<h4 class="anchored" data-anchor-id="parameters-29">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 51%">
<col style="width: 23%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>exprs</code></td>
<td>ibis.Value | typing.Sequence[ibis.Value]</td>
<td>List of expressions</td>
<td><code>()</code></td>
</tr>
<tr class="even">
<td><code>kwexprs</code></td>
<td>ibis.Value</td>
<td>Expressions</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-30" class="level4">
<h4 class="anchored" data-anchor-id="examples-30">Examples</h4>
<div class="sourceCode" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.table([</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>...     (<span class="st">'foo'</span>, <span class="st">'string'</span>),</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>...     (<span class="st">'bar'</span>, <span class="st">'string'</span>),</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>...     (<span class="st">'baz'</span>, <span class="st">'double'</span>),</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>... ], name<span class="op">=</span><span class="st">'t'</span>)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>UnboundTable: t</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>  foo string</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>  bar string</span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>  baz float64</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> (t.group_by(<span class="st">'foo'</span>)</span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>...          .order_by(ibis.desc(<span class="st">'bar'</span>))</span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>...          .mutate(qux<span class="op">=</span><span class="kw">lambda</span> x: x.baz.lag(), qux2<span class="op">=</span>t.baz.lead()))</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(expr)</span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>r0 <span class="op">:=</span> UnboundTable: t</span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>  foo string</span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a>  bar string</span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a>  baz float64</span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a>Selection[r0]</span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a>  selections:</span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a>    r0</span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a>    qux:  WindowFunction(...)</span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a>    qux2: WindowFunction(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="returns-34" class="level4">
<h4 class="anchored" data-anchor-id="returns-34">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>A table expression with window functions applied</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.GroupedTable.order_by" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.order_by">order_by</h3>
<p><code>expr.types.relations.GroupedTable.order_by(self, expr)</code></p>
<section id="notes" class="level4">
<h4 class="anchored" data-anchor-id="notes">Notes</h4>
<p>This API call is ignored in aggregations.</p>
</section>
<section id="parameters-30" class="level4">
<h4 class="anchored" data-anchor-id="parameters-30">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 7%">
<col style="width: 44%">
<col style="width: 36%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>expr</code></td>
<td>ibis.Value | typing.Iterable[ibis.Value]</td>
<td>Expressions to order the results by</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-35" class="level4">
<h4 class="anchored" data-anchor-id="returns-35">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GroupedTable</td>
<td>A sorted grouped GroupedTable</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.GroupedTable.over" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.over">over</h3>
<p><code>expr.types.relations.GroupedTable.over(self, window=None, *, rows=None, range=None, group_by=None, order_by=None)</code></p>
<p>Apply a window over the input expressions.</p>
<section id="parameters-31" class="level4">
<h4 class="anchored" data-anchor-id="parameters-31">Parameters</h4>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 10%">
<col style="width: 57%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>window</code></td>
<td></td>
<td>Window to add to the input</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>rows</code></td>
<td></td>
<td>Whether to use the <code>ROWS</code> window clause</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>range</code></td>
<td></td>
<td>Whether to use the <code>RANGE</code> window clause</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>group_by</code></td>
<td></td>
<td>Grouping key</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>order_by</code></td>
<td></td>
<td>Ordering key</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-36" class="level4">
<h4 class="anchored" data-anchor-id="returns-36">Returns</h4>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GroupedTable</td>
<td>A new grouped table expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.relations.GroupedTable.select" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.relations.GroupedTable.select">select</h3>
<p><code>expr.types.relations.GroupedTable.select(self, *exprs, **kwexprs)</code></p>
<section id="see-also-6" class="level4">
<h4 class="anchored" data-anchor-id="see-also-6">See Also</h4>
<p>[<code>GroupedTable.mutate</code>][ibis.expr.types.groupby.GroupedTable.mutate]</p>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>